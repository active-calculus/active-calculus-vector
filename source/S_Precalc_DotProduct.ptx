<?xml version="1.0"?>
<!-- **********************************************************************-->
<!-- Copyright 2013-2024                                                   -->
<!-- Nicholas Long, Mitchel Keller, Steven Schlicker                       -->
<!--                                                                       -->
<!-- This file is part of Active Calculus Multivariable.                   -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-NC-SA license.  The work   -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike"; no party may sell this work or any of its    -->
<!-- derivatives for profit.  All trademarks are the registered marks of   -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->
<section xml:id="S-Precalc-DotProduct" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>The Dot Product</title>

    <objectives>
        <ul>
          <li>
            <p>
              How is the dot product of two vectors defined and what geometric information does it tell us?
            </p>
          </li>

          <li>
            <p>
              How can we tell if two vectors in <m>\R^n</m> are perpendicular?
            </p>
          </li>

          <li>
            <p>
              How can we find how much of one vector is parallel to another?
            </p>
          </li>
        </ul>
    </objectives>

    <introduction>
    <p>
      In <xref ref="S-Precalc-Vectors" />, we considered vector addition and scalar multiplication algebraically and interpreted the corresponding geometric meaning is. In this section, we will introduce a type of vector multiplication that will be used to measure how much two vectors move together. First, we will discuss what is meant by <q>move together</q> in the context of vectors in a one-dimensional space (i.e., on a number line). After that, we will generalize this idea to two dimensions in <xref ref="PA-dotproduct" />.
    </p>
    <p>
      We consider one-dimensional vectors denoted <m>\vv=\langle v_1 \rangle</m>. Notice that vectors in one dimension will only have one component. Graphically, these vectors will look like an arrow on the number line corresponding to the change described by the component. Remember that vectors do not have an inherent starting or ending location, so we can translate vectors without changing the magnitude or direction.
    </p>
    <figure xml:id="vec1Dex1">
      <caption>A plot of <m>\langle 2\rangle</m> and <m>\langle -1.5 \rangle </m> in red and blue, respectively</caption>
      <image width="100%" label="img-vec1dex1">
        <description>
          <p>A plot of <m>\langle 2\rangle</m> and <m>\langle -1.5 \rangle </m> in red and blue, respectively</p>
        </description>
        <sageplot>
          scale=5
          ts=[i for i in range(-scale,scale+1)]
          plot1=text("0",(0,-0.4),color="black",ticks=[ts,[]],ymin=-0.2,ymax=0.2,xmin=-scale-0.5,xmax=scale+0.5,aspect_ratio=1)
          plot1+=arrow((0,0),(2,0),color="red")
          plot1+=text("$\\langle 2\\rangle$",(1,0.35),color="red",fontsize=15)
          plot1+=arrow((-2,0),(-3.5,0),color="blue")
          plot1+=text("$\\langle -\\frac{3}{2}\\rangle$",(-2.5,0.35),color="blue",fontsize=15)
          plot1
        </sageplot>
      </image>
    </figure>
    <p>
      Given two vectors, we want measure how much these vectors move together with a scalar measurement. For instance, if we let <m>\vv=\langle 2\rangle</m> and <m>\vw=\langle -3\rangle </m>, then we can graphically represent these starting from the origin as in <xref ref="vec1Dex2" />. We want a multiplicative, scalar measure of how much <m>\vv</m> and <m>\vw</m> move together, so let's multiply their (one) components. By multiplying our components, we get <m>(2)(-3)=-6</m>. You probably notice the negative in this measurement first, so let's start by interpreting that aspect.
    </p>
    <figure xml:id="vec1Dex2">
      <caption>A plot of <m>\langle 2\rangle</m> and <m>\langle -3 \rangle </m> in red and blue, respectively</caption>
      <image width="100%" label="img-vec1dex2">
        <description>
          <p>A plot of <m>\langle 2\rangle</m> and <m>\langle -3 \rangle </m> in red and blue, respectively</p>
        </description>
        <sageplot>
          scale=5
          ts=[i for i in range(-scale,scale+1)]
          plot21=text("0",(0,-0.4),color="black",ticks=[ts,[]],ymin=-0.2,ymax=0.2,xmin=-scale-0.5,xmax=scale+0.5,aspect_ratio=1)
          plot21+=arrow((0,0),(2,0),color="red")
          plot21+=text("$\\langle 2\\rangle$",(1,0.35),color="red",fontsize=15)
          plot21+=arrow((0,0),(-3,0),color="blue")
          plot21+=text("$\\langle -3\\rangle$",(-1.5,0.35),color="blue",fontsize=15)
          plot21
        </sageplot>
      </image>
    </figure>
    <p>
      The red and blue vectors in <xref ref="vec1Dex2"/> move completely opposite of each other, which is why we got a negative result. Generalizing this idea for all one-dimensional vectors, we see that taking the product of the components of the vectors will give a positive result when the vectors are in the same direction and a negative result when the vectors move opposite of each other. For example, the pair of vectors <m>\langle 2\rangle </m> and <m>\langle 3\rangle </m> will move together exactly as much as <m>\langle -2\rangle </m> and <m>\langle -3\rangle </m> will together. Note that the product of components for each of these pairs is <m>6</m>. 
    </p>
    <figure xml:id="vec1Dex3">
      <caption>Plots of <m>\langle 2\rangle</m> and <m>\langle 3 \rangle </m> together and <m>\langle -2\rangle</m> and <m>\langle -3 \rangle </m> together</caption>
      <sbsgroup widths="100%">
        <sidebyside>
          <image width="100%" label="img-vec1dex31">
            <sageplot>
              scale=5
              ts=[i for i in range(-scale,scale+1)]
              plot22=text("0",(0,-0.4),color="black",ticks=[ts,[]],ymin=-0.2,ymax=0.2,xmin=-scale-0.5,xmax=scale+0.5,aspect_ratio=1)
              plot22+=arrow((0,0),(2,0),color="red",width=3)
              plot22+=text("$\\langle 2\\rangle$",(1,0.35),color="red",fontsize=15)
              plot22+=arrow((0,0),(3,0),color="blue")
              plot22+=text("$\\langle 3\\rangle$",(2,0.35),color="blue",fontsize=15)
              plot22
            </sageplot>
          </image>          
        </sidebyside>
        <sidebyside>
          <image width="100%" label="img-vec1dex32">
            <sageplot>
              scale=5
              ts=[i for i in range(-scale,scale+1)]
              plot23=text("0",(0,-0.4),color="black",ticks=[ts,[]],ymin=-0.2,ymax=0.2,xmin=-scale-0.5,xmax=scale+0.5,aspect_ratio=1)
              plot23+=arrow((0,0),(-2,0),color="red",width=3)
              plot23+=text("$\\langle -2\\rangle$",(-1,0.35),color="red",fontsize=15)
              plot23+=arrow((0,0),(-3,0),color="blue")
              plot23+=text("$\\langle -3\\rangle$",(-2.5,0.35),color="blue",fontsize=15)
              plot23
            </sageplot>
          </image>          
        </sidebyside>
      </sbsgroup>
    </figure>
    <p>
      Changing the length of the vectors in the pair you are comparing will also affect how much the vectors move together as measured by the product of the components (in one-dimension). For example, the pair of vector <m>\langle 2\rangle </m> and <m>\langle 1\rangle </m> do not move together as much as the pair of vectors <m>\langle 2\rangle </m> and <m>\langle 3\rangle </m> do. In fact, the product of the components says that the pair of vector <m>\langle 2\rangle </m> and <m>\langle 1\rangle </m> move only a third as much together as <m>\langle 2\rangle </m> and <m>\langle 3\rangle </m> do. This should make sense because there are not as long of arrows in the first figure as the second in <xref ref="vec1Dex4" />.
    </p>
    <figure xml:id="vec1Dex4">
      <caption>Plots of <m>\langle 1\rangle</m> and <m>\langle 2 \rangle </m> together and <m>\langle 2\rangle</m> and <m>\langle 3 \rangle </m> together</caption>
      <sbsgroup widths="100%">
        <sidebyside>
          <image width="100%" label="img-vec1dex41">
            <sageplot>
              scale=5
              ts=[i for i in range(-scale,scale+1)]
              plot24=text("0",(0,-0.4),color="black",ticks=[ts,[]],ymin=-0.2,ymax=0.2,xmin=-scale-0.5,xmax=scale+0.5,aspect_ratio=1)
              plot24+=arrow((0,0),(2,0),color="red",width=3)
              plot24+=text("$\\langle 2\\rangle$",(1.5,0.35),color="red",fontsize=15)
              plot24+=arrow((0,0),(1,0),color="blue")
              plot24+=text("$\\langle 1\\rangle$",(0.5,0.35),color="blue",fontsize=15)
              plot24
            </sageplot>
          </image>
          </sidebyside>
          <sidebyside>
            <image width="100%" label="img-vec1dex42">
              <sageplot>
                scale=5
                ts=[i for i in range(-scale,scale+1)]
                plot22=text("0",(0,-0.4),color="black",ticks=[ts,[]],ymin=-0.2,ymax=0.2,xmin=-scale-0.5,xmax=scale+0.5,aspect_ratio=1)
                plot22+=arrow((0,0),(2,0),color="red",width=3)
                plot22+=text("$\\langle 2\\rangle$",(1,0.35),color="red",fontsize=15)
                plot22+=arrow((0,0),(3,0),color="blue")
                plot22+=text("$\\langle 3\\rangle$",(2,0.35),color="blue",fontsize=15)
                plot22
              </sageplot>
            </image>
        </sidebyside>
      </sbsgroup>
    </figure>
    <p>
      Our one-dimensional examples above motivate why we will use the product of components to measure how much vectors move together, but we pause now to say something about what <q>move together</q> does <alert>not</alert> mean. Specifically, when we ask how much <m>\vv</m> and <m>\vw</m> move together, we are NOT measuring how much of <m>\vv</m> is in the direction of <m>\vw</m> or how much of <m>\vw</m> is in the direction of <m>\vv</m>. Additionally, we are NOT measuring the difference between <m>\vv</m> and <m>\vw</m>. We need a scalar result (and not a vector) to measure how much <m>\vv</m> and <m>\vw</m> move together because this measurement of together does not have an associated direction. In the following Preview Activity, we will use our measurement of moving together in one dimension, as computed by the product of the vector components, to develop a meaning for what <q>moving together</q> means in a two-dimensional setting.
    </p>
    <exploration xml:id="PA-dotproduct">
      <introduction>
        <p>
          In this Preview Activity, we consider some examples that will help us understand what we mean by <q>moving together</q> for two-dimensional vectors. In particular, we will use the following:
            <me> \vu_1=\langle 1,2 \rangle , \vu_2=\langle -1,1 \rangle , \vu_3=\langle 2,-1 \rangle , \vu_4=\langle 1,-2 \rangle </me>
        </p>
      </introduction>
      <task>
        <statement>
          <p>
            Draw representatives of each of <m>\vu_1,\vu_2,\vu_3,\vu_4</m> in the plane using the axes below.
          </p>
          <figure xml:id="vec2Dblank">
            <caption>A plot of the 2D plane</caption>
            <image width="75%" xml:id="img-vec2dblank">
              <description><p> A plot of the 2D plane</p></description>
              <sageplot>
                plot3=point((0,0),color="black",size=0,xmin=-3,xmax=3,ymin=-3,ymax=3,gridlines=True,aspect_ratio=1,axes=true,axes_labels=["$x$","$y$"])
                plot3
              </sageplot>
            </image>
          </figure>
        </statement>
      </task>
      <task>
        <task>
          <p>
            Multiply the first components of <m>\vu_1</m> and <m>\vu_2</m> and use your ideas from one-dimensional vectors to explain what this value says about how much <m>\vu_1</m> and <m>\vu_2</m> move together horizontally.
          </p>
        </task>
        <task>
          <statement>
            <p>
              Multiply the second components of <m>\vu_1</m> and <m>\vu_2</m> and use your ideas from one-dimensional vectors to explain what this value says about how much <m>\vu_1</m> and <m>\vu_2</m> move together vertically.
            </p>
          </statement>
        </task>
        <task>
          <statement>
            <p>
              Add together the results of the previous two parts and explain how this sum relates to how much <m>\vu_1</m> and <m>\vu_2</m> move together. You should also look at a plot of <m>\vu_1</m> and <m>\vu_2</m> starting at the same point. 
            </p>
          </statement>
        </task>
      </task>
      <task>
        <task>
          <p>
            Multiply the horizontal and vertical components of <m>\vu_1</m> and <m>\vu_3</m> separately and use these results to write about how much <m>\vu_1</m> and <m>\vu_3</m> together horizontally and how much <m>\vu_1</m> and <m>\vu_3</m> move together vertically. 
          </p>
        </task>
        <task>
          <statement>
            <p>
              Add together the two results of the previous task and explain how this sum relates to how much <m>\vu_1</m> and <m>\vu_3</m> move together. You should also look at a plot of <m>\vu_1</m> and <m>\vu_3</m> starting at the same point.
            </p>
          </statement>
        </task>
      </task>
      <task>
        <statement>
          <p>
            Multiply the horizontal and vertical components of <m>\vu_1</m> and <m>\vu_4</m> separately then add the two results. Use this number and a plot of <m>\vu_1</m> and <m>\vu_3</m> starting at the same point to explain how much <m>\vu_1</m> and <m>\vu_4</m> move together.
          </p>
        </statement>
      </task>
    </exploration>
    <p>
      In <xref ref="PA-dotproduct"/>, you have started developing an understanding of how the sum of products of the components of vectors can be used as an indicator of how much two vectors in the plane move together. The rest of this section will formalize this idea as the dot product of two vectors and explore properties of this measurement.
    </p>
  </introduction>

  <subsection>
    <title>The Dot Product</title>
    <p>
      We can extend the ideas of <xref ref="PA-dotproduct" /> to any dimension, which gives us the definition of the dot product. 
    </p>
    <definition>
      <statement>
        <p>
          The <term>dot product</term><idx><h>dot product</h></idx> of vectors <m>\vu=\langle u_1, u_2,\ldots,u_n \rangle</m> and <m>\vv=\langle v_1, v_2,\ldots,v_n \rangle</m> in <m>\R^n</m> is the scalar 
          <me>
            \vu\cdot\vv = u_1v_1+u_2v_2 + \ldots + u_nv_n.
          </me>
        </p>
      </statement>
    </definition>
    <aside>
      <p>
        As we will see shortly, the dot product arises in physics to calculate the work done by a vector force in a given direction. It might be more natural to define the dot product in this context. However, it is more convenient from a mathematical perspective to define the dot product algebraically and then view work as an application of this definition.
      </p>
    </aside>
    <p>
      For instance, we find that
      <me>
        \langle 3, 0, 1 \rangle\cdot\langle -2, 1, 4 \rangle = 3\cdot(-2) +
        0\cdot1 + 1\cdot4 = -6 + 0 + 4 = -2.
      </me>
    </p>

    <p>
      Notice that the resulting quantity is a <em>scalar</em>. In the next section, we will explore another product of vectors for which the resulting quantity is a <em>vector</em>. For this reason, you will sometimes see the phrase <term>scalar product</term> used in place of <q>dot product</q>. The introduction to this section and <xref ref="PA-dotproduct" /> examined dot products of one- and two-dimensional vectors.
    </p>

    <activity xml:id="Act-dotprod-calc">
      <introduction>
        <p>
          Determine each of the following.
        </p>
        </introduction>
      <task>
        <statement>
          <p>
            <m>\langle 1, 2, -3 \rangle \cdot \langle 4, -2, 0 \rangle</m>
          </p>
        </statement>
        <answer>
          <p>
            <m>\vu\cdot\vv = 0</m>
          </p>
        </answer>
        <solution>
          <p>
            <m>\langle 1, 2, -3 \rangle \cdot \langle 4, -2, 0 \rangle = (1)(2) + (2)(-2) + (-3)(0) = 0</m>
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            <m>\langle 0, 3, -2, 1 \rangle \cdot \langle 5, -6, 0, 4 \rangle</m>
          </p>
        </statement>
        <answer>
          <p>
            <m>\vu\cdot\vv = -14</m>
          </p>
        </answer>
        <solution>
          <p>
            <m>\langle 0, 3, -2, 1 \rangle \cdot \langle 5, -6, 0, 4 \rangle = (0)(5) + (3)(-6) + (-2)(0) + (1)(4) = 0</m>
          </p>
        </solution>
      </task>
    </activity>

    <p>
      The dot product gives us a way to define a product of two vectors that measures how much the vectors move together. Additionally, the dot product behaves in ways that are similar to the product of real numbers.
    </p>

    <assemblage xml:id="Dot-product-properties">
      <title>Properties of the dot product</title>
        <p>
        Let <m>\vu</m>, <m>\vv</m>, and <m>\vw</m> be vectors in <m>\R^n</m>. Then
        <ol>
          <li>
            <p>
              <m>\vu \cdot \vv = \vv \cdot \vu</m> (The dot product is <em>commutative</em>.)
            </p>
          </li>
          <li>
            <p>
              <m>(\vu + \vv) \cdot \vw = (\vu \cdot \vw) + (\vv \cdot \vw)</m> (The dot product can be <em>distributed</em> across vector addition.)
            </p>
          </li>
          <li>
            <p>
              if <m>c</m> is a scalar, then <m>(c\vu) \cdot \vw = c(\vu \cdot \vw)</m> (The dot product is <em>associative</em> with scalar multiplication.)
            </p>
          </li>
        </ol>
      </p>
    </assemblage>

    <p>
      In addition to the algebraic properties listed above, the dot product gives us valuable geometric information about the vectors and their relative orientation. For instance, when we take the dot product of a vector with itself, we find
      <me>
        \vu\cdot\vu = \langle u_1,u_2,\ldots,u_n \rangle \cdot \langle u_1,u_2,\ldots,u_n \rangle =  u_1^2 + u_2^2 + \ldots + u_n^2 = \vecmag{\vu}^2
      </me>.
      In other words, the dot product of a vector with itself gives the square of the length of the vector: <m>\vu\cdot\vu=\vecmag{\vu}^2</m>.
    </p>
  </subsection>

  <subsection xml:id="subsec-vecangle">
    <title>The Angle between Vectors</title>
    <p>
      As we saw in <xref ref="PA-dotproduct" />, the dot product measures how much vectors move together. This measurement can also help us understand the angle between two vectors. If we are given two vectors <m>\vu</m> and <m>\vv</m>, there are two angles that these vectors create, as depicted in <xref ref="F_9_3_Angle_between" />. We will call <m>\theta</m>, the smaller of these angles, the <term>angle between these vectors</term><idx><h>vector</h><h>angle between</h></idx>. Notice that <m>\theta</m> lies between 0 and <m>\pi</m> because we would consider the angle from the other side if the angle was greater than <m>\pi</m>.
    </p>
    
    <figure xml:id="F_9_3_Angle_between">
      <caption>The angle between vectors for two different configurations of <m>\vu</m> and <m>\vv</m> </caption>
      <sidebyside widths="45% 45%">
        <image width="55%" label="img-acutevec">
          <description><p> A plot of two vectors with an acute angle between them</p></description>
          <sageplot>
            var('t')
            at1=arctan(1/2)
            at2=arctan(3)
            plot4=arrow((0,0),(2,1),color="black",axes=False,width=4)+arrow((0,0),(1,3),color="black",width=4)
            plot4+=text("$\\vec{v}$",(0.4,1.8),fontsize=25,color="black")
            plot4+=text("$\\vec{u}$",(1,0.2),color="black",fontsize=25)
            plot4+=parametric_plot((0.75*cos(t),0.75*sin(t)),(t,at1,at2),color="black")
            plot4+=arrow((0.75*cos(at2-0.05),0.75*sin(at2-0.05)),(0.75*cos(at2),0.75*sin(at2)),color="black")
            plot4+=text("$\\theta$",(cos((at1+at2)/2),sin((at1+at2)/2)),color="black",fontsize=25)
            plot4+=parametric_plot((0.5*cos(t),0.5*sin(t)),(t,at2,2*pi+at1),color="black")
            plot4+=arrow((0.49*cos(at1-0.01),0.49*sin(at1-0.01)),(0.49*cos(at1),0.49*sin(at1)),color="black")
            plot4+=text("$2\\pi - \\theta$",(cos(pi+(at1+at2)/2),sin(pi+(at1+at2)/2)),color="black",fontsize=25)
            plot4
          </sageplot>
        </image>
        <image width="55%" label="img-obtusevec">
          <description><p> A plot of two vectors with an obtuse angle between them</p></description>
          <sageplot>
            var('t')
            at1=arctan(1/2)
            at2=pi+arctan(2/1)
            plot6=arrow((0,0),(2,1),color="black",axes=False,width=4)+arrow((0,0),(-1,-2),color="black",width=4)
            plot6+=text("$\\vec{v}$",(-0.4,-1.4),fontsize=25,color="black")
            plot6+=text("$\\vec{u}$",(1,0.2),color="black",fontsize=25)
            plot6+=parametric_plot((0.75*cos(t),0.75*sin(t)),(t,at1,at2),color="black")
            plot6+=arrow((0.75*cos(at2-0.05),0.75*sin(at2-0.05)),(0.75*cos(at2),0.75*sin(at2)),color="black")
            plot6+=text("$2\\pi -\\theta$",(cos((at1+at2)/2),sin((at1+at2)/2)),color="black",fontsize=25)
            plot6+=parametric_plot((0.5*cos(t),0.5*sin(t)),(t,at2,2*pi+at1),color="black")
            plot6+=arrow((0.49*cos(at1-0.01),0.49*sin(at1-0.01)),(0.49*cos(at1),0.49*sin(at1)),color="black")
            plot6+=text("$\\theta$",(cos(pi+(at1+at2)/2),sin(pi+(at1+at2)/2)),color="black",fontsize=25)
            plot6
          </sageplot>
        </image>
      </sidebyside> 
    </figure>
   
    <proposition>
      <statement>
        <p>
          Given vectors <m>\vu</m> and <m>\vv</m>, the following relationship holds for <m>\theta</m> being the smallest angle between the vectors:
          <men xml:id="E_9_3_dot_angle" >
            \vu\cdot\vv = u_1v_1+u_2v_2 + \ldots + u_nv_n = \vecmag{\vu}\vecmag{\vv}\cos(\theta)
          </men>
          Solving for the angle <m>\theta</m>, we have:
          <men xml:id="anglebtwvec" >
            \theta = \cos^{-1}\left(\frac{\vu\cdot\vv}{\vecmag{\vu} \vecmag{\vv}}\right)
          </men>
        </p>
      </statement>
      <proof>
        <p>
          To determine this angle, we may apply the Law of Cosines to the triangle shown in <xref ref="dotprodtri" />.
        </p>
        <figure xml:id="dotprodtri">
          <caption>A triangle of vectors, <m>\vu</m>, <m>\vv</m>, and <m>\vu-\vv</m> </caption>
          <image width="45%" label="img-dotprodtri">
            <description><p> A plot of two vectors with an acute angle between them</p></description>
            <sageplot>
              var('t')
              at1=arctan(1/2)
              at2=arctan(3)
              plot5=arrow((0,0),(2,1),color="black",axes=False,width=4)+arrow((0,0),(1,3),color="black",width=4)
              plot5+=text("$\\vec{v}$",(0.4,1.8),fontsize=25,color="black")
              plot5+=text("$\\vec{u}$",(1,0.2),color="black",fontsize=25)
              plot5+=parametric_plot((0.75*cos(t),0.75*sin(t)),(t,at1,at2),color="black")
              plot5+=arrow((0.75*cos(at2-0.05),0.75*sin(at2-0.05)),(0.75*cos(at2),0.75*sin(at2)),color="black")
              plot5+=text("$\\theta$",(cos((at1+at2)/2),sin((at1+at2)/2)),color="black",fontsize=25)
              plot5+=arrow((2,1),(1,3),color="gray",width=4)
              plot5+=text("$\\vec{u}-\\vec{v}$",(1.85,2.3),color="gray",fontsize=25)
              plot5
            </sageplot>
          </image>
        </figure>
        <p>
          Using the fact that the dot product of a vector with itself gives us the square of its length, together with other properties of the dot product, we find:
          <md>
            <mrow>\vecmag{\vu-\vv}^2 =\mathstrut \amp  \vecmag{\vu}^2 + \vecmag{\vv}^2 - 2\vecmag{\vu}\vecmag{\vv}\cos(\theta)</mrow>
            <mrow>(\vu-\vv)\cdot(\vu-\vv) =\mathstrut \amp  \vu\cdot\vu + \vv\cdot\vv - 2\vecmag{\vu}\vecmag{\vv}\cos(\theta)</mrow>
            <mrow>\vu\cdot(\vu-\vv) - \vv\cdot(\vu-\vv)=\mathstrut \amp  \vu\cdot\vu + \vv\cdot\vv - 2\vecmag{\vu}\vecmag{\vv}\cos(\theta)</mrow>
            <mrow>\vu\cdot\vu - 2\vu\cdot\vv + \vv\cdot\vv =\mathstrut \amp  \vu\cdot\vu + \vv\cdot\vv - 2\vecmag{\vu}\vecmag{\vv}\cos(\theta)</mrow>
            <mrow>-2\vu\cdot\vv =\mathstrut \amp  -2\vecmag{\vu}\vecmag{\vv}\cos(\theta)</mrow>
            <mrow>\vu\cdot\vv =\mathstrut \amp  \vecmag{\vu}\vecmag{\vv}\cos(\theta)</mrow>
          </md>
        </p>
      </proof>
    </proposition>
   
    <p>
      The powerful conclusion from <xref ref="E_9_3_dot_angle"/> is that the dot product is a simple algebraic calculation that provides us with important geometric information about the angle between the vectors that would be difficult to determine otherwise. This should not be that surprising because we defined the dot product to measure how much vectors moved together, thus the dot product would be related to the angle between the vector inputs. While you normally need to interpret the angle that comes out of an inverse trigonometric function, the result of <xref ref="anglebtwvec" /> does not need to be interpreted because the angle measurement and the range of arccosine are both from <m>0</m> to <m>\pi</m>. 
    </p>

    <activity xml:id="A_9_3_2_a">
      <introduction>
        <p>
          Determine each of the following:
        </p>
      </introduction>
      <task>
        <statement>
          <p>
            The length of the vector <m>\vu=\langle 1, 2, -3 \rangle</m> using the dot product.
          </p>
        </statement>
        <answer>
          <p>
            <m>\vecmag{\vu} = \sqrt{14}</m>
          </p>
        </answer>
      </task>
      <task>
        <statement>
          <p>
            The angle between the vectors <m>\vu =\langle 1, 2 \rangle</m> and <m>\vv = \langle 4, -1 \rangle</m> to the nearest tenth of a degree.
          </p>
        </statement>
        <answer>
          <p>
            <m>\theta = 77.471^{\circ}</m>
          </p>
        </answer>
        <solution>
          <p>
            <m>\vecmag{\vu}^2 = \vu\cdot\vu</m>
          </p> 
          <p>
            So <m>\vecmag{\vu} = \sqrt{\vu\cdot\vu} = \sqrt{\langle 1, 2, -3 \rangle\cdot\langle 1, 2, -3 \rangle} = \sqrt{(1)(2) + (2)(2) + (-3)(-3)} = \sqrt{14}</m>.
          </p>
        </solution>
      </task>  
      <task>
        <statement>
          <p>
            The angle between the vectors <m>\vy =\langle 1, 2, -3 \rangle</m> and <m>\vz = \langle -2, 1, 1 \rangle</m> to the nearest tenth of a degree.
          </p>
        </statement>
        <answer>
          <p>
            <m>\theta = 109.107^{\circ}</m>
          </p>
        </answer>
        <solution>
          <p>
            <m>\vy\cdot\vz = \langle 1, 2, -3 \rangle\cdot\langle -2, 1, 1 \rangle = (1)(-2) + (2)(1) + (-3)(1) = -3</m>.
          </p>
          <p>
            <m>\vecmag{\vy} = \sqrt{(1)^2 + (2)^2 + (-3)^2} = \sqrt{14}</m> and <m>\vecmag{\vz} = \sqrt{(-2)^2 + (1)^2 + (1)^2} = \sqrt{6}</m>.
          </p>
          <p>
            Then <m>-3 = \sqrt{14} * \sqrt{6} * \cos(\theta)</m>. So <m>\theta = \cos^{-1}\left(\frac{-3}{\sqrt{14} * \sqrt{6}}\right) = 109.107^{\circ}</m>.
          </p>
        </solution>
      </task>          
      <task>
        <statement>
          <p>
            If the angle between the vectors <m>\vu</m> and <m>\vv</m> is a right angle, what does the expression <m>\vu \cdot \vv = \vecmag{\vu} \vecmag{\vv} \cos(\theta)</m> say about their dot product?
          </p>
        </statement>
        <answer>
          <p>
            <m>\vu\cdot\vv = 0</m>
          </p>
        </answer>
        <solution>
          <p>
            If the angle between 2 vectors is a right angle, the angle measure is <m>\frac{\pi}{2}</m>. <m>\cos(\frac{\pi}{2}) = 0</m>. Therefore <m>\vu\cdot\vv = \vecmag{\vu}\vecmag{\vv} \cdot 0 = 0</m>. So <m>\vu\cdot\vv = 0</m>.
          </p>
        </solution>
      </task>     
      <task>
        <statement>
          <p>
            If the angle between the vectors <m>\vu</m> and <m>\vv</m> is acute<mdash/>that is, less than <m>\pi/2</m><mdash/>what does the expression <m>\vu\cdot\vv=\vecmag{\vu}\vecmag{\vv}\cos(\theta)</m> say about their dot product?
          </p>
        </statement>
        <answer>
          <p>
            <m>\vu\cdot\vv</m> is positive
          </p>
        </answer>
        <solution>
          <p>
            If the angle between 2 vectors is acute, the angle measure is between <m>0</m> and <m>\frac{\pi}{2}</m>. <m>\cos(\theta)</m> is between 0 and 1. Therefore <m>\vu\cdot\vv = \vecmag{\vu}\vecmag{\vv} \cos(\theta)</m> is positive. So <m>\vu\cdot\vv</m> is positive.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            If the angle between the vectors <m>\vu</m> and <m>\vv</m> is obtuse<mdash/>that is, greater than <m>\pi/2</m><mdash/>what does the expression <m>\vu\cdot\vv=\vecmag{\vu}\vecmag{\vv}\cos(\theta)</m> say about their dot product?
          </p>
        </statement>
        <answer>
          <p>
            <m>\vu\cdot\vv</m> is negative
          </p>
        </answer>
        <solution>
          <p>
            If the angle between 2 vectors is obtuse, the angle measure is between <m>\frac{\pi}{2}</m> and <m>\pi</m>. <m>\cos(\theta)</m> is between -1 and 0. Therefore <m>\vu\cdot\vv = \vecmag{\vu}\vecmag{\vv} \cos(\theta)</m> is negative. So <m>\vu\cdot\vv</m> is negative.
          </p>
        </solution>
      </task>
    </activity>
  </subsection>


  <subsection>
    <title>The Dot Product and Orthogonality</title>
    <p>
      Many important relationships between vectors arise when the angle between two vectors is a right angle. In this case, we say the vectors are <term>orthogonal</term>. <idx><h>orthogonal</h></idx> For instance, orthogonality often plays a role in optimization problems: to determine the shortest path from a point in <m>\R^3</m> to a given plane, we move along a line orthogonal to the plane.
    </p>

    <p>
      As <xref ref="A_9_3_2_a">Activity</xref> indicates, the dot product provides a simple means to determine whether two vectors are orthogonal to one another. In this case,<m>\vu\cdot\vv=\Vert\vu\Vert\Vert\vv\Vert\cos(\pi/2) = 0</m>, so we make the following important observation.
    </p>

    <assemblage xml:id="Dot-product-orthogonality">
      <title>The dot product and orthogonality</title>
      <p>
        Two vectors <m>\vu</m> and <m>\vv</m> in <m>\R^n</m> are orthogonal <idx><h>vector</h><h>orthogonal</h></idx><idx><h>orthogonal</h></idx> to each other provided that <m>\vu \cdot \vv = 0</m>.
      </p>
    </assemblage>
    

    <p>
      More generally, the sign of the dot product gives us useful information about the relative orientation of the vectors. If we remember that
      <md>
        <mrow>\cos(\theta) \gt 0 \mathstrut \amp \ \ \ \text{ if } \theta \text{ is an acute angle,}</mrow>
        <mrow>\cos(\theta) = 0 \mathstrut \amp \ \ \ \text{ if } \theta \text{ is a right angle, and}</mrow>
        <mrow>\cos(\theta) \lt 0 \mathstrut \amp \ \ \ \text{ if } \theta \text{ is an obtuse angle,}</mrow>
      </md>
        then we see that for nonzero vectors <m>\vu</m> and <m>\vv</m>,
      <md>
        <mrow> \vu\cdot\vv \gt 0 \mathstrut \amp \ \ \ \text{ if } \theta \text{ is an acute angle,}</mrow>
        <mrow> \vu\cdot\vv = 0 \mathstrut \amp \ \ \ \text{ if }
          \theta \text{ is a right angle, and}</mrow>
        <mrow> \vu\cdot\vv \lt  0 \mathstrut \amp \ \ \ \text{ if }
          \theta \text{ is an obtuse angle.}</mrow>
      </md>
      This is illustrated in <xref ref="F_9_3_Orientations" />.
    </p>

    <figure xml:id="F_9_3_Orientations">
      <caption>The orientation of vectors</caption>
      <image width="100%" source="images/fig_9_3_orientations"/>
    </figure>
    <p>
      Earlier in this section we referred to the dot product as measuring how much two vectors move together. We should emphasize that this is a different idea than asking how much of one vector is in the direction of another, which would have a vector as an answer. The relationship between the sign of the dot product and the angle between the vectors reinforces the idea of how much two vectors move together (or apart). We would say two vectors move together a <em>positive</em> amount if they have an acute angle between them, meaning that the net amount of how much the components of the vectors move together/apart is positive. Vectors that do not move together at all would have a right angle between them and thus the dot product would be <em>zero</em>. Vectors with a <em>negative</em> dot product will move opposite each other more than together (as a sum of the components moving together/apart), thus they will have an obtuse angle between them.
    </p>
  </subsection>


  <subsection>
    <title>Work, Force, and Displacement</title>
    <p>
      In physics, work is a measure of the energy required to apply a force to an object through a displacement. In <xref ref="workex" />, we can see a diagram showing the force applied to a refrigerator (in orange) that is used to move the refrigerator from point <m>A</m> to point <m>B</m>. The change in location, <m>\overrightarrow{AB}</m>, is called the displacement. Notice that not all of the force is in the direction of the displacement. The work done on the refrigerator only depends on the amount of force that is in the direction of <m>\overrightarrow{AB}</m>.
    </p>

    <figure xml:id="workex">
      <caption>A diagram showing the force applied to the refrigerator as the refrigerator is moved from <m>A</m> to <m>B</m> </caption>
      <image width="70%" label="img-workex">
        <description><p> A diagram showing the force applied to the refrigerator as the refrigerator is moved from <m>A</m> to <m>B</m>. The momement is rightward and parallel to the ground, but the force is rightward and slightly upward.</p></description>
        <sageplot>
          plot7=polygon([(0,0),(0,1),(1/2,1),(1/2,0),(0,0)],color="orange",axes=False,aspect_ratio=1,xmin=-1/2,xmax=3.5,ymin=-0.25,ymax=1.25)
          plot7+=line([(0,0),(0,1),(1/2,1),(1/2,0),(0,0)],color="black")
          plot7+=arrow((0,0),(3,0),width=4,color="black")+point((0,0),color="black",size=35)+point((3,0),color="black",size=35)
          plot7+=text("$A$",(-0.2,-0.2),color="black",fontsize=25)+text("$B$",(3.2,-0.2),color="black",fontsize=25)
          plot7+=arrow((0,1/2),(1,1),color="blue",width=3)
          plot7+=text("$\\vec{F}$",(1.1,1.1),color="blue",fontsize=25)
          plot7+=line([(0,1/2),(1,1/2)],color="gray",thickness=3)+line([(1,1/2),(1,1)],color="gray",linestyle="--")
          plot7+=text("$\\Vert \\vec{F} \\Vert \\cos(\\theta)$",(1,0.25),color="gray",fontsize=20)
          plot7
        </sageplot>
      </image>
    </figure>

    <p>
      The work required to move the refrigerator is
      <me>
        W = \vF\cdot\overrightarrow{AB} = \vecmag{\vF} \vecmag{\overrightarrow{AB}} \cos(\theta)
      </me>.
    </p>

    <p>
      This means that the work is determined only by the magnitude of the force applied parallel to the displacement and the length of the displacement. Consequently, if we are given two vectors <m>\vu</m> and <m>\vv</m>, we would like to write <m>\vu</m> as a sum of two vectors, one of which is parallel to <m>\vv</m> and one of which is orthogonal to <m>\vv</m>. We will talk about this after the following activity.
    </p>

    <activity xml:id="A_9_3_1">
      <task>
      <statement>
        <p>
          Determine the work done by a 25 pound force acting at a <m>30^{\circ}</m> angle to the direction of the object's motion, if the object is pulled 10 feet. 
        </p>
      </statement>
      <answer>
        <p>
          <m>W = 216.506</m> lb-ft.
        </p>
      </answer>
      <solution>
        <p>
          <m>W = \Vert25\Vert * \Vert10\Vert * \cos(30^{\circ}) = 216.506</m> lb-ft.
        </p>
      </solution>

       <p>

       </p>
      </task>
      <task>
        <statement>
          <p>
            Determine if more work or less work is done if the angle to the direction of the object's motion is <m>60^\circ</m>.
          </p>
        </statement>
        <answer>
          <p>
            Less work is done.
          </p>
        </answer>
        <solution>
          <p>
            If the angle is increased, the value of <m>\cos(\theta)</m> decreases and approaches 0. Therefore, less work is done if the angle to the direction of the object's motion is <m>60^{\circ}</m>. <m>W = \Vert25\Vert * \Vert10\Vert * \cos(60^{\circ}) = 125</m> lb-ft.            
          </p>
        </solution>
      </task>
    </activity>
  </subsection>


  <subsection>
    <title>Projections</title>
    <p>
      Suppose we want to split the vector <m>\vu</m> into parts that are parallel to <m>\vv</m> and orthogonal to <m>\vv</m>, which we will call <m>\vw_1</m> and <m>\vw_2</m> respectively. In other words, we want to write <m>\vu=\vw_1+\vw_2</m> where <m>\vw_1=k \vv</m> and <m>\vw_2 \cdot \vv =0</m>. Geometrically, this will look like one of the possibilities shown in <xref ref="projexamples" />.
    </p> 
    <figure xml:id="projexamples">
      <caption>Different possibilities for spliting <m>\vu</m> into parts that are parallel and orthogonal to <m>\vv</m></caption>  
      <sidebyside widths="50% 50%" valign="bottom">  
        <image width="45%" label="img-projex1">
          <description><p>Vector <m>\vv</m> points horizontally with <m>\vu</m> above it making an acute angle <m>\theta</m>. The vector <m>\vw_2</m> is orthogonal to <m>\vv</m>, pointing upward so that the tip of <m>\vw_2</m> coincides with the tip of <m>\vu</m>. Vector <m>\vw_1</m> has the same tail as <m>\vv</m> and its tip coincides with the tail of <m>\vw_2</m>.</p></description>
          <sageplot>
            var('t')
            plot8=arrow((0,0),(3,0),color="black",width=3,axes=False,aspect_ratio=1)
            plot8+=text("$\\vec{u}$",(1.4,2.4),color="black",fontsize=25)
            plot8+=arrow((0,0),(1.6,2.4),color="black",width=3)
            plot8+=text("$\\vec{v}$",(3.1,0),color="black",fontsize=25)
            plot8+=arrow((0,0),(1.6,0),color="blue",width=4)
            plot8+=text("$\\vec{w}_1$",(0.75,-0.2),color="blue",fontsize=25)
            plot8+=arrow((1.6,0),(1.6,2.4),color="red",width=4)
            plot8+=text("$\\vec{w}_2$",(1.8,1.2),color="red",fontsize=25)
            plot8+=parametric_plot((0.5*cos(t),0.5*sin(t)),(t,0,arctan(1.5)),color="black",linestyle="--")
            plot8+=text("$\\theta$",(0.6,0.3),color="black",fontsize=25)
            plot8
          </sageplot>
        </image>
        <image width="45%" label="img-projex2">
          <description><p>Vector <m>\vv</m> points horizontally with <m>\vu</m> above it making an obtuse angle <m>\theta</m>. The vector <m>\vw_2</m> is orthogonal to the horizontal axis, which passes through <m>\vv</m>, and <m>\vw_2</m> points upward so that the tip of <m>\vw_2</m> coincides with the tip of <m>\vu</m>. Vector <m>\vw_1</m> has the same tail as <m>\vv</m> and its tip coincides with the tail of <m>\vw_2</m>.</p></description>
          <sageplot>
            var('t')
            plot9=arrow((0,0),(2,0),color="black",width=3,axes=False,aspect_ratio=1)
            plot9+=text("$\\vec{v}$",(2.1,0),color="black",fontsize=25)
            plot9+=arrow((0,0),(-1,2),color="black",width=3)
            plot9+=text("$\\vec{u}$",(-0.75,1.9),color="black",fontsize=25)
            plot9+=arrow((0,0),(-1,0),color="blue",width=4)
            plot9+=text("$\\vec{w}_1$",(-0.5,-0.2),color="blue",fontsize=25)
            plot9+=arrow((-1,0),(-1,2),color="red",width=4)
            plot9+=text("$\\vec{w}_2$",(-0.85,1),color="red",fontsize=25)
            plot9+=parametric_plot((0.5*cos(t),0.5*sin(t)),(t,0,pi+arctan(-2)),color="black",linestyle="--")
            plot9+=text("$\\theta$",(0.2,0.6),color="black",fontsize=25)
            plot9
          </sageplot>
        </image>
      </sidebyside>
    </figure>
    <p>
      Notice that if the angle between <m>\vu</m> and <m>\vv</m> is obtuse, then the amount of <m>\vu</m> that is parallel to <m>\vv</m> will be in the direction opposite <m>\vv</m>. Before we look at how to calculate the vectors <m>\vw_1</m> and <m>\vw_2</m>, we will do an activity about drawing the graphical representation of this splitting of <m>\vu</m> into parts that are parallel to <m>\vv</m> and orthogonal to <m>\vv</m>
    </p>
    <activity xml:id="act-Precalc-DotProject-DrawProj">
      <introduction>
        <p>
          In this activity, we will be focused on drawing the graphical representation of this splitting of <m>\vu</m> into two parts. One will be <m>\vw_1</m>, which we will make parallel to <m>\vv</m>. The other will be <m>\vw_2</m>, which we will make orthogonal to <m>\vv</m>.
        </p>
      </introduction>
      <task>
        <statement>
          <p>
            For the configuration of vectors shown in <xref ref="projplot1"/>, draw and label <m>\vw_1</m> and <m>\vw_2</m>.
          </p>
          <figure xml:id="projplot1">
            <caption>A plot of <m>\vu</m> and <m>\vv</m> </caption>
            <image width="65%" label="img-projplot1">
              <description><p> A plot of <m>\vu</m>, <m>\vv</m></p></description>
              <sageplot>
                u=vector([5,-1])
                v=vector([2,1])
                putov=(u.dot_product(v)/v.dot_product(v))*v
                perp=u-putov
                plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
                plot11+=arrow((0,0),v,color="black",width=3)
                plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
                plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
                plot11
              </sageplot>
            </image>
          </figure>

        </statement>
        <solution>
          <image width="65%" label="img-projplot1-soln">
            <sageplot>
              u=vector([5,-1])
              v=vector([2,1])
              putov=(v.dot_product(u)/u.dot_product(u))*u
              perp=v-putov
              plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
              plot11+=arrow((0,0),v,color="black",width=3)
              plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
              plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
              plot11+=arrow((0,0),putov,color="red",width=2)
              plot11+=arrow(putov,v,color="blue",width=2)
              plot11+=text("$proj_{\\vec{u}} \\vec{v}$",0.5*putov-0.5*perp,color="red",fontsize=25)
              plot11+=text("$proj_{\\perp \\vec{u}} \\vec{v}$",1.5*putov+0.5*perp,color="blue",fontsize=25)
              plot11
            </sageplot>
          </image>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            For the configuration of vectors shown in <xref ref="projplot2"/>, draw and label <m>\vw_1</m> and <m>\vw_2</m>.
          </p>
          <figure xml:id="projplot2">
            <caption>A plot of <m>\vu</m> and <m>\vv</m> </caption>
            <image width="65%" label="img-projplot2">
              <description><p> A plot of <m>\vu</m>, <m>\vv</m></p></description>
              <sageplot>
                u=vector([3,-2])
                v=vector([-4,1])
                putov=(u.dot_product(v)/v.dot_product(v))*v
                perp=u-putov
                plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
                plot11+=arrow((0,0),v,color="black",width=3)
                plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
                plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
                plot11
              </sageplot>
            </image>
          </figure>
        </statement>
        <solution>
          <image width="65%" label="img-projplot2-soln">
            <sageplot>
              u=vector([3,-2])
              v=vector([-4,1])
              putov=(u.dot_product(v)/v.dot_product(v))*v
              perp=u-putov
              plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
              plot11+=arrow((0,0),v,color="black",width=3)
              plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
              plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
              plot11+=arrow((0,0),putov,color="red",width=2)
              plot11+=arrow(putov,u,color="blue",width=2)
              plot11+=text("$proj_{\\vec{v}} \\vec{u}$",0.5*putov-0.5*perp,color="red",fontsize=25)
              plot11+=text("$proj_{\\perp \\vec{v}} \\vec{u}$",1.5*putov+0.5*perp,color="blue",fontsize=25)
              plot11
            </sageplot>
          </image>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Now we want to switch the roles of <m>\vu</m> and <m>\vv</m> for the examples in the previous parts. Specifically, for these configuration of vectors, we want to split
            <m>\vv</m> into parts that are parallel to <m>\vu</m>, which we will call <m>\vz_1</m>, and orthogonal to <m>\vu</m>, which we will call <m>\vz_2</m>. On <xref ref="projplot3"/>, draw <m>\vz_1</m> and <m>\vz_2</m>.
          </p>
          <figure xml:id="projplot3">
            <caption>A plot of <m>\vu</m> and <m>\vv</m> </caption>
            <image width="65%" label="img-projplot3">
              <description><p> A plot of <m>\vu</m>, <m>\vv</m></p></description>
              <sageplot>
                u=vector([5,-1])
                v=vector([2,1])
                putov=(u.dot_product(v)/v.dot_product(v))*v
                perp=u-putov
                plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
                plot11+=arrow((0,0),v,color="black",width=3)
                plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
                plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
                plot11
              </sageplot>
            </image>
          </figure>

        </statement>
        <solution>
          <image width="65%" label="img-projplot3-soln">
            <sageplot>
              u=vector([5,-1])
              v=vector([2,1])
              putov=(u.dot_product(v)/v.dot_product(v))*v
              perp=u-putov
              plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
              plot11+=arrow((0,0),v,color="black",width=3)
              plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
              plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
              plot11+=arrow((0,0),putov,color="red",width=2)
              plot11+=arrow(putov,u,color="blue",width=2)
              plot11+=text("$proj_{\\vec{v}} \\vec{u}$",0.5*putov-0.5*perp,color="red",fontsize=25)
              plot11+=text("$proj_{\\perp \\vec{v}} \\vec{u}$",1.5*putov+0.5*perp,color="blue",fontsize=25)
              plot11
            </sageplot>
          </image>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            For the configuration of vectors shown in <xref ref="projplot4"/>, draw and label <m>\vz_1</m> and <m>\vz_2</m>.
          </p>
          <figure xml:id="projplot4">
            <caption>A plot of <m>\vu</m> and <m>\vv</m> </caption>
            <image width="65%" label="img-projplot4">
              <description><p> A plot of <m>\vu</m>, <m>\vv</m></p></description>
              <sageplot>
                u=vector([3,-2])
                v=vector([-4,1])
                putov=(u.dot_product(v)/v.dot_product(v))*v
                perp=u-putov
                plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
                plot11+=arrow((0,0),v,color="black",width=3)
                plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
                plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
                plot11
              </sageplot>
            </image>
          </figure>
        </statement>
        <solution>
          <image width="65%" label="img-projplot4-soln">
            <sageplot>
              u=vector([3,-2])
              v=vector([-4,1])
              putov=(u.dot_product(v)/v.dot_product(v))*v
              perp=u-putov
              plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
              plot11+=arrow((0,0),v,color="black",width=3)
              plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
              plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
              plot11+=arrow((0,0),putov,color="red",width=2)
              plot11+=arrow(putov,u,color="blue",width=2)
              plot11+=text("$proj_{\\vec{v}} \\vec{u}$",0.5*putov-0.5*perp,color="red",fontsize=25)
              plot11+=text("$proj_{\\perp \\vec{v}} \\vec{u}$",1.5*putov+0.5*perp,color="blue",fontsize=25)
              plot11
            </sageplot>
          </image>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            For the configuration of vectors shown in <xref ref="projplot5"/>, draw and label <m>\vw_1</m> and <m>\vw_2</m>.
          </p>
          <figure xml:id="projplot5">
            <caption>A plot of <m>\vu</m> and <m>\vv</m> </caption>
            <image width="65%" label="img-projplot5">
              <description><p> A plot of <m>\vu</m>, <m>\vv</m></p></description>
              <sageplot>
                u=vector([-2,-1])
                v=vector([1/2,-1])
                putov=(u.dot_product(v)/v.dot_product(v))*v
                perp=u-putov
                plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
                plot11+=arrow((0,0),v,color="black",width=3)
                plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
                plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
                plot11
              </sageplot>
            </image>
          </figure>

        </statement>
        <solution>
          <image width="65%" label="img-projplot5-soln">
            <sageplot>
              u=vector([-2,-1])
              v=vector([1/2,-1])
              putov=(u.dot_product(v)/v.dot_product(v))*v
              perp=u-putov
              plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
              plot11+=arrow((0,0),v,color="black",width=3)
              plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
              plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
              plot11+=arrow((0,0),putov,color="red",width=2)
              plot11+=arrow(putov,u,color="blue",width=2)
              plot11+=text("$proj_{\\vec{v}} \\vec{u}$",0.5*putov-0.5*perp,color="red",fontsize=25)
              plot11+=text("$proj_{\\perp \\vec{v}} \\vec{u}$",1.5*putov+0.5*perp,color="blue",fontsize=25)
              plot11
            </sageplot>
          </image>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            For the configuration of vectors shown in <xref ref="projplot6"/>, draw and label <m>\vz_1</m> and <m>\vz_2</m>.
          </p>
          <figure xml:id="projplot6">
            <caption>A plot of <m>\vu</m> and <m>\vv</m> </caption>
            <image width="65%" label="img-projplot6">
              <description><p> A plot of <m>\vu</m>, <m>\vv</m></p></description>
              <sageplot>
                u=vector([-2,-1])
                v=vector([1/2,-1])
                putov=(u.dot_product(v)/v.dot_product(v))*v
                perp=u-putov
                plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
                plot11+=arrow((0,0),v,color="black",width=3)
                plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
                plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
                plot11
              </sageplot>
            </image>
          </figure>

        </statement>
        <solution>
          <image width="65%" label="img-projplot6-soln">
            <sageplot>
              u=vector([-2,-1])
              v=vector([1/2,-1])
              putov=(v.dot_product(u)/u.dot_product(u))*u
              perp=v-putov
              plot11=arrow((0,0),u,color="black",width=3,axes=False,aspect_ratio=1)
              plot11+=arrow((0,0),v,color="black",width=3)
              plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
              plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
              plot11+=arrow((0,0),putov,color="red",width=2)
              plot11+=arrow(putov,v,color="blue",width=2)
              plot11+=text("$proj_{\\vec{u}} \\vec{v}$",0.5*putov-0.5*perp,color="red",fontsize=25)
              plot11+=text("$proj_{\\perp \\vec{u}} \\vec{v}$",1.5*putov+0.5*perp,color="blue",fontsize=25)
              plot11
            </sageplot>
          </image>
        </solution>
      </task>
    </activity>

    <p>  
      We want to compute <m>\vw_1</m> and <m>\vw_2</m> in terms of <m>\vu</m> and <m>\vv</m>. To do this, we can consider the sum <m>\vu=\vw_1+\vw_2</m> and take the dot product of each side with <m>\vv</m>
      <md>
        <mrow>\vu \cdot \vv= \amp  (\vw_1+\vw_2)\cdot\vv</mrow>
        <mrow>= \amp  (\vw_1)\cdot\vv + (\vw_2)\cdot\vv</mrow>
        <mrow>= \amp  (\vw_1)\cdot\vv </mrow>
      </md>.
      Notice that because <m>\vw_2</m> must be orthogonal to <m>\vv</m>, the second term will contribute nothing to the dot product <m>\vu \cdot \vv </m>. Because <m>\vw_1</m> is parallel to <m>\vv</m>, we have <m>\vw_1 = k \vv</m>. Since <m>\vu \cdot \vv = (k \vv) \cdot \vv</m>, we can solve for <m>k=\frac{\vu \cdot \vv}{\vv \cdot \vv}</m>. In particular, this means that we can calculate <m>\vw_1 = \frac{\vu \cdot \vv}{\vv \cdot \vv} \vv</m>.
    </p>
    <p>
      Vector subtraction will also give us a way to solve for the piece of <m>\vu</m> that is orthogonal to <m>\vv</m>. We find <m>\vw_2=\vu-\vw_1= \vu-\frac{\vu \cdot \vv}{\vv \cdot \vv} \vv</m>. Using the property that the dot prodcut of a vector with itself is the square of the vector's magnitude, we can write <m>\vw_1 = \left(\frac{\vu \cdot \vv}{\vecmag{\vv}}\right) \frac{\vv}{\vecmag{\vv}}</m>.
    </p>
    <definition xml:id="def-vector-projections">
      <statement>
        <p><idx><h>vector</h><h>component in the direction of</h></idx><idx><h>vector</h><h>projection</h></idx>
          Let <m>\vu</m> and <m>\vv</m> be vectors in <m>\R^n</m>. The <term>component of <m>\vu</m> in the direction of <m>\vv</m></term> is the scalar
          <me>
            \comp_{\vv} \vu = \frac{\vu \cdot \vv}{\vecmag{\vv}},
          </me>
          and the <term>projection of <m>\vu</m> onto <m>\vv</m></term> is the vector
          <me>
            \proj_{\vv} \vu = \frac{\vu \cdot \vv}{\vv\cdot\vv} \vv= \left(\frac{\vu \cdot \vv}{\vecmag{\vv}}\right) \frac{\vv}{\vecmag{\vv}}
          </me>.
          The <term>orthogonal projection of <m>\vu</m> onto <m>\vv</m></term> is 
          <me>
            \proj_{\perp \vv} \vu = \vu - \proj_{\vv} \vu = \vu - \frac{\vu \cdot \vv}{\vv\cdot\vv} \vv
          </me>.
        </p>
      </statement>
    </definition>
    <p>
      The component of <m>\vu</m> in the direction of <m>\vv</m> will be a scalar measure of how much of <m>\vu</m> is parallel to <m>\vv</m>. In fact, this shows up in the second formula for <m>\proj_{\vv} \vu</m>. Specifically, we can write <m>\proj_{\vv} \vu = (\comp_{\vv} \vu) \frac{\vv}{\vecmag{\vv}}</m>, which separates the projection of <m>\vu</m> onto <m>\vv</m> into   how much of <m>\vu</m> is parallel to <m>\vv</m> (a scalar) times the unit vector in the direction of <m>\vv</m>. This is useful idea of separating the magnitude of a vector and the direction of a vector (as described by a unit vector) will be used in the analysis of many vector calculations. The first expression for <m>\proj_{\vv} \vu = \frac{\vu \cdot \vv}{\vv\cdot\vv} \vv</m> can be interpreted conceptually as saying the projection of <m>\vu</m> onto <m>\vv</m> must be parallel to <m>\vv</m> and <m>\frac{\vu \cdot \vv}{\vv\cdot\vv}</m> is the length of <m>\proj_{\vv} \vu</m> as a proportion of <m>\vv</m>.
    </p>

    <example xml:id="vecprojex">
      <p>
        In this example we will look at calculating and making sense of the different parts of the projection of <m>\langle 4,3\rangle </m> onto <m>\langle 0,2 \rangle</m>. For notational purposes, we will let <m>\vu = \langle 4,3\rangle </m> and  <m>\vv = \langle 0,2 \rangle</m>. Applying <xref ref="def-vector-projections" />, we find
        <md>
          <mrow> \proj_\vv \vu \amp= \left(\frac{\langle 4,3\rangle \cdot \langle 0,2 \rangle  }{\langle 0,2 \rangle \cdot \langle 0,2 \rangle} \right) \langle 0,2 \rangle </mrow>
          <mrow> \amp= \left(\frac{6}{4}\right) \langle 0,2 \rangle </mrow>
          <mrow> \amp= \left(\frac{3}{2}\right) \langle 0,2 \rangle = \langle 0,3 \rangle </mrow>
        </md>.
        Using the other formula for the projection, we have
        <md>
          <mrow> \proj_\vv \vu \amp= \left(\frac{\langle 4,3\rangle \cdot \langle 0,2 \rangle  }{\Vert \langle 0,2 \rangle \Vert} \right) \frac{\langle 0,2 \rangle}{\Vert \langle 0,2 \rangle \Vert} </mrow>
          <mrow> \amp= \left(\frac{6}{2}\right) \frac{\langle 0,2 \rangle}{2} </mrow>
          <mrow> \amp= (3) \langle 0,1 \rangle = \langle 0,3 \rangle </mrow>
        </md>.
        Note that the scalar <m>(3)</m> in the last equation is <m>\comp_\vv \vu</m> and the vector <m>\langle 0,1\rangle</m> is the unit vector in the direction of <m>\vv</m>. 
      </p>
      <figure xml:id="projexplot">
        <caption>A plot of <m>\vu</m>, <m>\vv</m>, <m>\proj_\vv \va</m>, and <m>\proj_{\perp \vv} \vu</m> </caption>
        <image width="75%" xml:id="img-projexplot">
          <description><p> A plot of <m>\vu</m>, <m>\vv</m>, <m>\proj_\vv \vu</m>, and <m>\proj_{\perp \vv} \vu</m></p></description>
          <sageplot>
            plot10=arrow((0,0),(4,3),color="black",width=3,gridlines=True)
            plot10+=arrow((0,0),(0,2),color="black",width=3)
            plot10+=arrow((0,0),(0,3),color="red",width=2)
            plot10+=arrow((0,3),(4,3),color="blue",width=2)
            plot10+=text("$\\vec{u}$",(4.2,3.2),color="black",fontsize=25)
            plot10+=text("$\\vec{v}$",(0.1,1.25),color="black",fontsize=25)
            plot10+=text("$\text{proj}_{\\vec{v}} \\vec{u}$",(0.5,2.25),color="red",fontsize=25)
            plot10+=text("$\text{proj}_{\\perp \\vec{v}} \\vec{u}$",(2.5,3.25),color="blue",fontsize=25)
            plot10
          </sageplot>
        </image>
      </figure>
      <p>
        We can now compute the orthogonal projection of <m>\vu</m> onto <m>\vv</m> using <m>\proj_\vv \vu</m>.
        <me>
          \proj_{\perp \vv} \vu = \vu - \proj_\vv \vu = \langle 4,3 \rangle - \langle 0,3\rangle =\langle 4,0\rangle
        </me>.
        We can summarize these calculations as follows:
        <ul>
          <li>
            <p>
              The projection of <m>\vu</m> onto <m>\vv</m> is asking how much of <m>\langle 4,3 \rangle</m> is in the vertical direction.
            </p>
          </li>
          <li>
            <p>
              The projection of <m>\vu</m> onto <m>\vv</m> can be split into the scalar <m>3</m>, the component of <m>\vu</m> in the direction of <m>\vv</m>, and the unit vector in the direction of <m>\vv</m>, <m>\langle 0,1 \rangle </m>.
            </p>
          </li>
          <li>
            <p>
              The orthogonal projection of <m>\vu</m> onto <m>\vv</m> will be given by how much of <m>\vu</m> is horizontal because we subtract out all of the vertical component of <m>\vu</m>.
            </p>
          </li>
        </ul> 
      </p>
    </example>
    <p>
      The following activity gives you an opportunity to practice the computations involved with finding parallel and orthogonal projections.
    </p>
    <activity xml:id="A_9_3_4">
      <introduction>
        <p>
          Let <m>\vu = \langle 2, 6 \rangle</m>.
        </p>
      </introduction>
      <task>
        <statement>
          <p>
            Let <m>\vv = \langle 4, -8 \rangle</m>. Find <m>\comp_{\vv} \vu</m>, <m>\proj_{\vv} \vu</m>, and <m>\proj_{\perp \vv} \vu</m>. Draw a picture to illustrate the vectors involved. Finally, express <m>\vu</m> as the sum of two vectors where one is parallel to <m>\vv</m> and the other is perpendicular to <m>\vv</m>.
          </p>
        </statement>
        <answer>
          <p>
            <m>\comp_{\vv} \vu = \frac{-40}{\sqrt{80}}</m>, <m>\proj_{\vv} \vu = \langle -2, 4 \rangle</m>, <m>\proj_{\perp \vv} \vu = \angle 4, 2 \rangle</m>
          </p>
        </answer>
        <solution>
          <p>
            <m>\comp_{\vv} \vu = \frac{\vu\cdot\vv}{\vv\cdot\vv} = \frac{(2)(4) + (6)(-8)}{\sqrt{(4)^2 + (-8)^2}} = \frac{-40}{\sqrt{80}}</m>.
          </p>

          <p>
            <m>\proj_{\vv} \vu = \frac{\vu\cdot\vv}{\vv\cdot\vv}  \vv = \frac{(2)(4) + (6)(-8)}{(4)(4) + (-8)(-8)}  \rangle 4, -8 \rangle = \frac{-40}{80}  \langle 4, -8 \rangle = \langle -2, 4 \rangle</m>.
          </p>

          <p>
            <m>\vu = \proj_{\vv} \vu + \proj_{\perp \vv} \vu </m>.
          </p>
          
          <p>
            <m>\langle 2, 6 \rangle = \langle -2, 4 \rangle + \langle a, b \rangle</m>. Solve for <m>\proj_{\perp \vv} \vu</m> to get <m>\langle 4, 2 \rangle</m>.
          </p>
          <image width="75%" >
            <sageplot>
              u=vector([2,6])
              v=vector([4,-8])
              putov=(u.dot_product(v)/v.dot_product(v))*v
              perp=u-putov
              plot11=arrow((0,0),u,color="black",width=3,aspect_ratio=1)
              plot11+=arrow((0,0),v,color="black",width=3)
              plot11+=text("$\\vec{u}$",1.05*u,color="black",fontsize=25)
              plot11+=text("$\\vec{v}$",1.05*v,color="black",fontsize=25)
              plot11+=arrow((0,0),putov,color="red",width=2)
              plot11+=arrow(putov,u,color="blue",width=2)
              plot11+=text("$\text{proj}_{\\vec{v}} \\vec{u}$",0.5*putov-0.5*perp,color="red",fontsize=25)
              plot11+=text("$\text{proj}_{\\perp \\vec{v}} \\vec{u}$",1.5*putov+0.5*perp,color="blue",fontsize=25)
              plot11
            </sageplot>
          </image>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Now let <m>\vv = \langle -2,4 \rangle </m>. Without doing any calculations, find <m>\proj_{\vv} \vu</m>. Explain your reasoning.
          </p>
        </statement>
        <hint>
          <p>
            Refer to the picture you drew in the previous part
          </p>
        </hint>
        <answer>
          <p>
            <m>\proj_{\vv} \vu = \langle -2, 4 \rangle</m>
          </p>
        </answer>
        <solution>
          <p>
            <m>\vv = \langle -2 ,4 \rangle</m> is equal to <m>\proj_{\vv} \vu</m>. If we sketch the <m>\proj_{\vv} \vu = \langle -2, 4 \rangle</m> onto <m>\langle -2, 4 \rangle</m>, these are the same vectors.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Find a vector <m>\vw</m> not parallel to <m>\vz = \langle 3,4 \rangle </m> such that <m>\proj_{\vz} \vw</m> has length <m>10</m>. Note that there are infinitely many different answers!
          </p>
        </statement>
        <answer>
          <p>
            There are an infinite number of answers.
          </p>
        </answer>
        <solution>
          <p>
            <m>\proj_{\vz} \vw = \frac{\vw\cdot\vz}{\vz\cdot\vz}  \vv = \frac{(w_1)(3) + (w_2)(4)}{(3)(3) + (4)(4)}  \langle 3, 4 \rangle = \frac{3w_1 + 4w_2}{25}  \langle 3, 4 \rangle</m>. The vector <m>\langle 6, 8 </m> has a magnitude of 10. So when <m>\frac{3w_1 + 4w_2}{25} = 2</m>, then <m>\proj_{\vz} \vw = 10</m>. Therefore, <m>3w_1 + 4w_2 = 50</m>. One such vector is <m>\vw = \langle 10, 5 \rangle</m>.
          </p>
        </solution>
      </task>
    </activity>
    <p>
      It is important to note that in general <m>\proj_{\vv} \vw \neq \proj_{\vw} \vv</m>. You can explore in <xref ref="ex-projnotsym" /> how switching the vectors in the projection formula will give a different results.
    </p>

  
  </subsection>
  <outcomes>
    <ul>
      <li>
        <p>
          The dot product of two vectors in <m>\R^n</m>, <m>\vu = \langle u_1,
            u_2, \ldots, u_n \rangle</m> and <m>\vv = \langle v_1, v_2, \ldots, v_n
            \rangle</m>, is the scalar
          <me>
            \vu \cdot \vv = u_1v_1 + u_2v_2 + \cdots + u_nv_n.
          </me>
        </p>
      </li>

      <li>
        <p>
          The dot product is related to the length of a vector since
            <m>\vu\cdot\vu = \Vert\vu\Vert^2</m>.
        </p>
      </li>

      <li>
        <p>
          The dot product provides us with information about the angle
            between the vectors since
          <me>
            \vu\cdot\vv = \Vert\vu\Vert \ \Vert\vv\Vert\cos(\theta),
          </me>
          where <m>\theta</m> is the angle
            between <m>\vu</m> and <m>\vv</m>.
        </p>
      </li>

      <li>
        <p>
          Two vectors are orthogonal if the angle between them
            is <m>\pi/2</m>. In terms of the dot product, the vectors <m>\vu</m> and
            <m>\vv</m> are orthogonal if and only if <m>\vu \cdot \vv = 0</m>.
        </p>
      </li>

      <li>
        <p>
          The projection of a vector <m>\vu</m> in <m>\R^n</m> onto a vector <m>\vv</m>
            in <m>\R^n</m> is the vector
          <me>
            \proj_{\vv} \vu = \frac{\vu \cdot \vv}{\vv\cdot\vv} \vv.
          </me>
        </p>
      </li>
    </ul>

  </outcomes>


   <xi:include href="./exercises/ez-S_Precalc_DotProduct.ptx" />

     
</section>
