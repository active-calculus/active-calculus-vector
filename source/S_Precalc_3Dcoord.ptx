<?xml version="1.0"?>
<!-- **********************************************************************-->
<!-- Copyright 2013-2024                                                   -->
<!-- Steven Schlicker, Nicholas Long, Mitch Keller                         -->
<!--                                                                       -->
<!-- This file is part of Active Calculus Multivariable.                   -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-NC-SA license.  The work   -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike"; no party may sell this work or any of its    -->
<!-- derivatives for profit.  All trademarks are the registered marks of   -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->

<section xml:id="S-Precalc-3Dcoord" xmlns:xi="http://www.w3.org/2001/XInclude" >
  <title>Three Dimensional Space</title>
  
    <objectives>
        <ul>
          <li>
            <p>
              How can you describe a location in three dimensional space?
            </p>
          </li>

          <li>
            <p>
              How do you measure distance between points in three or more dimensions?
            </p>
          </li>
        </ul>
    </objectives>

    <introduction> 
    <p>
      As you read in the introduction to this chapter, we will be expanding beyond the idea of measuring change of expressions with one number as an input or output. We will first need to think about how we can represent the basic ideas of coordinates and functions in a more general setting. The following preview activity will ask you to recall some algebraic and geometric ideas from before your single variable calculus course. 
    </p>

    <exploration xml:id="PA-2D-coord">
      <introduction>
        <p>
          In this Preview Activity, we will recall some ideas about measurements and important ideas in two dimensional space. 
        </p>
      </introduction>
      <task>
        <statement>
          <p>
            What are the coordinates of the point drawn in <xref ref="coord2d-PA" />? Draw segments from the point <m>P</m> to the vertical and horizontal axes to demonstrate the measurements of the coordinates. 
          </p>
          <figure xml:id="coord2d-PA">
            <caption>A 2D plot with point <m>P</m> labeled</caption>
            <image width="55%" xml:id="img-coord2d-PA1">
              <description><p>A 2D plot with a point labeled P that is three units right of the vertical axis and 1 unit above the horizontal axis</p></description>
              <sageplot>
                plot4=point((3,1),color="black",size=20,axes=True,axes_labels=["$x$","$y$"],gridlines=True)
                plot4+=text("$P$",(3.3,1.3),color="black",fontsize=20,xmin=-2,xmax=4,ymin=-2,ymax=4,aspect_ratio=1)
                plot4            
              </sageplot>
            </image>
          </figure>
         
        </statement>
      </task>
      <task>
        <statement>
          <p>
            On the plot below, graph and label the following points: <m>P_1=(0,1)</m>, <m>P_2=(0,1)</m>, <m>P_3=(2,-3)</m>, <m>P_4=(3,-2)</m>, <m>P_5=(-3,2)</m>.
          </p>
          <figure xml:id="coord2d-PA2">
            <caption>A blank 2D set of axes</caption>
            <image width="55%" xml:id="img-coord2d-PA2">
              <description><p>A blank 2D plot where each coordinate varies from negative 4 to 4 </p></description>
              <sageplot>
                plot5=point((0,0),color="black",size=0,axes=true,axes_labels=["$x$","$y$"],gridlines=True,xmin=-4,xmax=4,ymin=-4,ymax=4,aspect_ratio=1)
                plot5        
              </sageplot>
            </image>
          </figure>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            Give the coordinates of four points on the horizontal axis and think about what aspect all of the points on the horizontal axis have in common. Use your idea on what the points on the horizontal axis have in common to give an equation for the horizontal axis.
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            On the axes below, draw a graph of each of the following equations: <m>x=1</m>, <m>y=-2</m>, and <m>-x=y</m>
          </p>
          <figure xml:id="coord2d-PA3">
            <caption>A blank 2D set of axes</caption>
            <image width="55%" xml:id="img-coord2d-PA3">
              <description><p>A blank 2D plot where each coordinate varies from negative 4 to 4</p></description>
              <sageplot>
                plot5=point((0,0),color="black",size=0,axes=true,axes_labels=["$x$","$y$"],gridlines=True,xmin=-4,xmax=4,ymin=-4,ymax=4,aspect_ratio=1)
                plot5  
              </sageplot>
            </image>
          </figure>
        </statement>
      </task>
      <task xml:id="PA-distance">
        <statement>
          <p>
            What is the formula for the distance from <m>(x_1,y_1)</m> to <m>(x_2,y_2)</m>? Use this formula to find how far <m>(-1,2)</m> is from <m>(7,-4)</m>. 
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            Draw a plot of the points <m>(-1,2)</m> and <m>(7,-4)</m>. On your plot, draw the line segment that measures the distance between the given points and the segments that measure the horizontal and vertical changes. Your plotted segments should make a right triangle. Explain how the right triangle you drew here relates to the calculation in <xref ref="PA-distance" />.
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            For each graph in <xref ref="coord2d-PA6" />, state whether the following graphs can be expressed with <m>y</m> as a function of <m>x</m> or not. If the graph cannot be expressed with <m>y</m> as a function of <m>x</m>, write sentence about what property you used to determine this. 
          </p>
          
          <sidebyside widths="45% 45%" margins="0% 10% 0%">
            <figure xml:id="coord2d-PA6">
              <caption>Plot A</caption>
              <image width="55%" xml:id="img-coord2d-PA6">
                <description><p>A 2D plot of a parabola opening in the positive vertical direction </p></description>
                <sageplot>
                  var('x')
                  plot6=plot(x^2,(x,-4,4),color="black",axes=true,axes_labels=["$x$","$y$"],gridlines=True,xmin=-4,xmax=4,ymin=-4,ymax=4,aspect_ratio=1)
                  plot6   
                </sageplot>
              </image>
            </figure>
            <figure xml:id="coord2d-PA7">
              <caption>Plot B</caption>
              <image width="55%" xml:id="img-coord2d-PA7">
                <description><p>A 2D plot of a parabola opening in the positive horizontal direction</p></description>
                <sageplot>
                  var('t')
                  plot7=parametric_plot((t^2,t),(t,-4,4),color="black",axes=true,axes_labels=["$x$","$y$"],gridlines=True,aspect_ratio=1)
                  plot7+=point((0,0),color="black",size=0,xmin=-4,xmax=4,ymin=-4,ymax=4)
                  plot7
                </sageplot>
              </image>
            </figure>
          </sidebyside>
          <sidebyside widths="45% 45%" margins="0% 10% 0%">
            <figure xml:id="coord2d-PA8">
              <caption>Plot C</caption>
              <image width="55%" xml:id="img-coord2d-PA8">
                <description><p>A 2D plot of a line with slope 1 and y intercept 1</p></description>
                <sageplot>
                  var('t')
                  plot8=parametric_plot((t,t+1),(t,-4,4),color="black",axes=true,axes_labels=["$x$","$y$"],gridlines=True,xmin=-4,xmax=4,ymin=-4,ymax=4,aspect_ratio=1)
                  plot8
                </sageplot>
              </image>
            </figure>
            <figure xml:id="coord2d-PA9">
              <caption>Plot D</caption>
              <image width="55%" xml:id="img-coord2d-PA9">
                <description><p>A 2D plot of a vertical line with x intercept 2</p></description>
                <sageplot>
                  var('t')
                  plot9=parametric_plot((2,t),(t,-4,4),color="black",gridlines=True,aspect_ratio=1,axes=true,axes_labels=["$x$","$y$"])
                  plot9+=point((0,0),color="black",size=0,xmin=-4,xmax=4,ymin=-4,ymax=4)
                  plot9
                </sageplot>
              </image>
            </figure>
          </sidebyside>
        </statement>
      </task>
    </exploration>
  
  <p>
    The tasks in the <xref ref="PA-2D-coord" /> should connect some of the meaning and formulas used in coordinates and graphing for two dimensions to specific measurements that will allow us to build useful tools for three or more dimensions. In the rest of this section, we will define the measurements for coordinates and basic measurements in three dimensions. 
  </p>
</introduction>
  <subsection>
    <title>Three Dimensional Space and Coordinates</title>
  
  <p>
    To plot points three-dimensional points, we need to set up a coordinate system with three mutually perpendicular axes <mdash/> the <m>x</m>-axis, the <m>y</m>-axis, and the <m>z</m>-axis (called the <em>coordinate axes</em>). There are essentially two different ways we could set up a 3D coordinate system, as shown in <xref ref="F-9-1-left-right-hand">Figure</xref>; thus, before we can proceed, we need to establish a convention.
  </p>
    <figure xml:id="F-9-1-left-right-hand">
      <caption>Left: A left hand system. Right: A right hand system</caption>
      <sidebyside widths="50% 50%">
        <image source="images/fig_9_1_left_hand"/>
        <image source="images/fig_9_1_right_hand"/>
        </sidebyside>
    </figure>
    
    <p>
      The distinction between these two figures is subtle, but important. In the coordinate system shown at left in <xref ref="F-9-1-left-right-hand">Figure</xref>, imagine that you are sitting on the positive <m>z</m>-axis next to the label <q><m>z</m>.</q> Looking down at the <m>x</m>- and <m>y</m>-axes, you see that the <m>y</m>-axis is obtained by rotating the <m>x</m>-axis by 90<m>^\circ</m> in the <em>clockwise</em> direction. Again sitting on the positive <m>z</m>-axis in the coordinate system at right in <xref ref="F-9-1-left-right-hand">Figure</xref>, you see that the <m>y</m>-axis is obtained by rotating the <m>x</m>-axis by 90<m>^\circ</m> in the <em>counterclockwise</em> direction.
    </p>

    <p>
      We call the coordinate system at right in <xref ref="F-9-1-left-right-hand"/> a <term>right-hand system</term>; if we point the index finger of our <em>right</em> hand along the positive <m>x</m>-axis and our middle finger along the positive <m>y</m>-axis, then our thumb points in the direction of the positive <m>z</m>-axis. Following mathematical conventions, we choose to use a right-hand system throughout this book.
    </p>

    <p>
      We let <m>\R^2</m> denote the set of all ordered pairs of real numbers in the plane (two copies of the real number system) and let <m>\R^3</m> represent the set of all ordered triples of real numbers (which constitutes three-space). For example, <m>(1,\pi)</m> is in <m>\R^2</m> and <m>(-e^2,\frac{\sqrt{7}}{4},0)</m> is in <m>\R^3</m>, but <m>(\ln(3),2i)</m> is not in <m>\R^2</m> because the second coordinate is not a real number (<m>2i</m> is imaginary).
    </p>
    
    <p>
      In other disciplines or settings you may see the y-axis as being oriented vertically with the x-axis going left/right and the z-axis is going in and out of the page like in the figure below. This orientation may be useful for you because you can think of the traditional orientation of the <m>xy</m>-plane (when drawn on paper) with the positive <m>z</m>-axis coming out of the page. 
    </p>
    <figure xml:id="phy-coord">
      <caption>An alternate orientation of a right handed coordinate system for <m>\mathbb{R}^3</m></caption>
      <image width="55%" source="./images/fig_9_1_right_hand_other.png" />
    </figure>
    <p>
      Now that we have established how our axes will be defined, we can use these axes to define how to measure coordinates and make a few basic graphs. In two dimensions, the horizontal coordinate was measured as the (minimum) distance to the vertical axis and the vertical coordinate was measured as the (minimum) distance to the horizontal axis. These measurements are actually signed distances because the measurement is positive when the point is above the given axis and negative when the measurement is below the given axis. 
    </p>
    <p>
      <xref ref="coord2d-measurement" /> shows the measurement of coordinates for <m>P</m>, a point in the first quadrant, and <m>Q</m>, a point in the fourth quadrant. Notice that the coordinates <m>a</m>, <m>b</m>, and <m>c</m> will be positive because each of the segments used to measure the distance are above the other coordinate axis. The coordinate  <m>d</m> will be negative because the segment used to measure the vertical distance to the <m>x</m>-axis is below the <m>x</m>-axis. This is what we mean when we say that the coordinate measurements are a signed distance; The distances to the comes from how far the point is from each axis and the sign specifies whether that distance is above or below the axis.
    </p>
    <figure xml:id="coord2d-measurement">
      <caption>A plot with the 2D coordinate measurements labeled</caption>
      <image width="55%" xml:id="img-coord2d-measurement">
        <description><p>A plot with the 2D coordinate measurements labeled for a point in the first quadrant and a point in the fourth quadrant</p></description>
        <sageplot>
          var('t')
          plot11=point((3,1),color="black",size=30,axes=True,axes_labels=["$x$","$y$"],ticks=[[],[]],gridlines=True)
          plot11+=line([(0,1),(3,1)],color="red",thickness=2)+line([(3,0),(3,1)],color="blue",thickness=2)
          plot11+=text("$a$",(1.5,1.3),color="red",fontsize=20)+text("$b$",(3.3,0.5),color="blue",fontsize=20)
          plot11+=text("$P=(a,b)$",(3.3,1.3),color="black",fontsize=20)+text("$Q=(c,d)$",(2.3,-2.3),color="black",fontsize=20)
          plot11+=point((2,-2),color="black",size=30)
          plot11+=line([(0,-2),(2,-2)],color="red",thickness=2)+line([(2,0),(2,-2)],color="blue",thickness=2)
          plot11+=text("$c$",(1,-1.7),color="red",fontsize=20)+text("$d$",(2.3,-1),color="blue",fontsize=20,xmin=-1,xmax=4,ymin=-2,ymax=2,aspect_ratio=1)
          plot11
        </sageplot>
      </image>
    </figure>
    <p>
      In a three dimensional space, we need to pay attention to the <term>coordinate planes</term> and not just the axes. The plot below shows how the <m>xy</m>-plane is the plane that contains the <m>x</m>- and <m>y</m>-axes. We can define the <m>xz</m>-plane as the plane that contain the <m>x</m>-and <m>z</m>-axes and the <m>yz</m>-plane as the plane that contain the <m>y</m>-and <m>z</m>-axes. In many ways the coordinate planes in 3D are analogous to the axes in 2D; we will split up 3D space based on whether a location is above or below different coordinate planes and we will measure coordinates in 3D as distances from the coordinate planes.
    </p>
    <figure xml:id="coor-planes">
      <caption>The coordinate planes in 3D</caption>
      <interactive title="interactive-coor-plane" platform="sage" width="100%" aspect="1:1">
        <slate surface="sage">
          from sage.plot.plot3d.plot3d import axes
          var('t,s')
          plot12=axes(4,1,color="black")+text3d("x",(4.5,0,0),fontsize=30)+text3d("y",(0,4.5,0),fontsize=30)+text3d("z",(0,0,4.5),fontsize=30)
          plot12+=parametric_plot3d((s,t,0),(s,-3,3),(t,-3,3),color="green",opacity=.25,frame=False,mesh=True,plot_points=3)
          plot12+=parametric_plot3d((0,t,s),(s,-3,3),(t,-3,3),color="red",opacity=.25,frame=False,mesh=True,plot_points=3)
          plot12+=parametric_plot3d((s,0,t),(s,-3,3),(t,-3,3),color="blue",opacity=.25,frame=False,mesh=True,plot_points=3)
          d=4
          plot12+=text3d("xy-plane",(d,-d,0.5),fontsize=25,color="green")+text3d("xz-plane",(-d,0,d),fontsize=25,color="blue")+text3d("yz-plane",(0,-d,d),fontsize=25,color="red")
          show(plot12,aspect_ratio=1,viewpoint=[[-0.23,-0.5945,-0.7705],146.8],camera_position=[12.3011,13.494,5.4476])
        </slate>
      </interactive>
    </figure>
    <p> 
      In two dimensions, the four regions that were separated by the coordinate axes are called quadrants and are typically labeled as in the plot below.
    </p>
    <figure xml:id="quadrants">
      <caption>The four quadrants</caption>
      <image width="55%" xml:id="img-quadrants">
        <description><p>A plot of the four quadrants </p></description>
        <sageplot>
          plot17=text("Quadrant I",(2,2),color="black",fontsize=15,axes=true,axes_labels=["$x$","$y$"])
          plot17+=text("Quadrant II",(-2,2),color="black",fontsize=15)
          plot17+=text("Quadrant III",(-2,-2),color="black",fontsize=15)
          plot17+=text("Quadrant IV",(2,-2),color="black",fontsize=15,xmin=-4,xmax=4,ymin=-4,ymax=4,aspect_ratio=1)
          plot17
        </sageplot>
      </image>
    </figure>
     <p>
       The coordinate planes will divide our three dimensional space up into eight different regions, which we will call <term>octants</term>. The octants above the <m>xy</m>-plane are ordered just like the quadrants in 2D and octants 5 through 8 have the same relationships but below the <m>xy</m>-plane. 
     </p>
     <figure xml:id="octants">
       <caption>A plot of the eight octants </caption>
       <interactive title="interactive-octants" platform="sage" width="90%" aspect="1:1">
         <slate surface="sage">
           from sage.plot.plot3d.plot3d import axes
           var('t,s')
           plot3=axes(1.2,1,color="black",frame=False)+text3d("x",(1.5,0,0),fontsize=30)+text3d("y",(0,1.5,0),fontsize=30)+text3d("z",(0,0,1.5),fontsize=30)
           plot3+=parametric_plot3d((s,t,0),(s,-1,1),(t,-1,1),color="green",opacity=.25,mesh=True,plot_points=3)
           plot3+=parametric_plot3d((0,t,s),(s,-1,1),(t,-1,1),color="red",opacity=.25,mesh=True,plot_points=3)
           plot3+=parametric_plot3d((s,0,t),(s,-1,1),(t,-1,1),color="blue",opacity=.25,mesh=True,plot_points=3)
           d=0.75
           names=["First Octant","Second Octant","Third Octant", "Fourth Octant","Fifth Octant","Sixth Octant","Seventh Octant","Eighth Octant"]
           locations=[(d,d,d),(-d,d,d),(-d,-d,d),(d,-d,d),(d,d,-d),(-d,d,-d),(-d,-d,-d),(d,-d,-d)]
           for i in range(len(names)):
               plot3+=text3d(names[i],locations[i],fontsize=20)
           show(plot3,aspect_ratio=1,viewpoint=[[-0.2432,-0.5619,-0.7907],142.22],camera_position=[4.2996,3.8202,1.9418])
         </slate>
       </interactive>      
     </figure>
    <p>
      The location of a point in a three dimensional space is measured with three coordinates. The three dimensional rectangular coordinates are measured as the signed distances to each of the coordinate planes. For example, the point <m>(1,-2,3)</m> is shown in the following plot.
    </p>
    <figure xml:id="point-in3d">
      <caption>A plot of the point <m>(1,-2,3)</m></caption>
      <interactive title="interactive-point-in3d" platform="sage" width="100%" aspect="1:1">
        <slate surface="sage">
          from sage.plot.plot3d.plot3d import axes
          var('t,s')
          plot15=axes(3,1,color="black",frame=False,aspect_ratio=1)+text3d("x",(3.5,0,0),fontsize=30)+text3d("y",(0,3.5,0),fontsize=30)+text3d("z",(0,0,3.5),fontsize=30)
          plot15+=point3d((1,-2,3),size=30,color="black")
          plot15
        </slate>
      </interactive>
    </figure>
    <p>
      Notice how hard it is to see where that point is located without turning the axes. In the web version of this text, most plots in 3D will be interactive, which means you click and drag to rotate the perspective. Additionally, you can zoom in and out by either using a scroll wheel on a mouse or pinching on touch screens.
    </p> 
    <p>
      When drawing points (or other plots) in 3D, it is often useful to draw segments or other features that are parallel to coordinate axes in order to help the viewer see the proper orientation and locations. For instance, see how much easier it is to understand the location of the point <m>(1,-2,3)</m> in the plot below because of the parallel structures that are shown on the plot.
    </p>
    <figure xml:id="point-in3d-reference2">
      <caption>A plot of the point <m>(1,-2,3)</m> with line segments parallel to the coordinate axes</caption>
      <interactive title="interactive-point-in3d-reference2" platform="sage" width="100%" aspect="1:1">
        <slate surface="sage">
          from sage.plot.plot3d.plot3d import axes
          var('t,s')
          plot24=axes(4,1,color="black",frame=False,aspect_ratio=1)+text3d("x",(4.5,0,0),fontsize=30)
          plot24+=text3d("y",(0,4.5,0),fontsize=30)+text3d("z",(0,0,4.5),fontsize=30)
          plot24+=point3d((1,-2,3),size=50,color="black")
          plot24+=parametric_plot3d((t,-2,3),(t,0,1),thickness=2,color="red")
          plot24+=parametric_plot3d((1,-t,3),(t,0,2),color="blue",thickness=2)
          plot24+=parametric_plot3d((1,-2,t),(t,0,3),color="green",thickness=2)
          plot24+=line([(0,0,0),(0,-3,0)],color="black",style="-")
          plot24+=text3d("-2",(1.5,-1,3),color="blue",fontsize=20)
          plot24+=text3d("1",(0.5,-1.5,3),color="red",fontsize=20)
          plot24+=text3d("3",(1.25,-2.25,1.5),color="green",fontsize=20)
          plot24+=text3d("P=(1,-2,3)",(2.5,-3.5,3.25),color="black",fontsize=25)
          plot24+=parametric_plot3d((s,t,0),(s,-3.5,3.5),(t,-3.5,3.5),color="green",opacity=.25,frame=False,mesh=True,plot_points=3)
          plot24+=parametric_plot3d((0,t,s),(s,-3.5,3.5),(t,-3.5,3.5),color="red",opacity=.25,frame=False,mesh=True,plot_points=3)
          plot24+=parametric_plot3d((s,0,t),(s,-3.5,3.5),(t,-3.5,3.5),color="blue",opacity=.25,frame=False,mesh=True,plot_points=3)
          #d=4.5
          #plot24+=text3d("xy-plane",(d,-d,0.5),fontsize=25,color="green")+text3d("xz-plane",(-d,0,d),fontsize=25,color="blue")+text3d("yz-plane",(0,-d,d),fontsize=25,color="red")
          show(plot24,viewpoint=[[-0.3953,-0.4277,-0.8129],106.16],camera_position=[12.6151,1.4535,8.8522])
        </slate>
      </interactive>
    </figure>
    <p>
      <xref ref="point-in3d-reference2" /> shows the segments used to measure the coordinates in 3D as they are measured from the point to the coordinate planes. Many plots will not show the coordinate planes. Framing the important measurements of your plot with structures that are parallel to the coordinate axes is a very useful to make your plots more easily understood. For instance, see how much easier it is to understand the location of the point <m>(1,-2,3)</m> in <xref ref="point-in3d-reference"/> because of the parallel structures that are shown on the plot. In particular, you can see the <m>x</m>- and <m>y</m>-coordinates measured in the <m>xy</m>-plane with the <m>z</m>-coordinate extended up. The segments drawn in <xref ref="point-in3d-reference" /> are easy enough to add to drawing done by hand.
    </p>

    <figure xml:id="point-in3d-reference">
      <caption>A plot of the point <m>(1,-2,3)</m> with line segments parallel to the coordinate axes</caption>
      <interactive title="interactive-point-in3d-reference" platform="sage" width="100%" aspect="1:1">
        <slate surface="sage">
          from sage.plot.plot3d.plot3d import axes
          var('t,s')
          plot14=axes(3,1,color="black",frame=False,aspect_ratio=1)+text3d("x",(3.5,0,0),fontsize=30)+text3d("y",(0,3.5,0),fontsize=30)+text3d("z",(0,0,3.5),fontsize=30)
          plot14+=point3d((1,-2,3),size=30,color="black")+parametric_plot3d((t,-2,0),(t,0,1),thickness=2,color="blue")+parametric_plot3d((1,-t,0),(t,0,2),color="green",thickness=2)
          plot14+=parametric_plot3d((1,-2,t),(t,0,3),color="red",thickness=2)
          plot14+=line([(0,0,0),(0,-3,0)],color="black",style="-")
          plot14+=text3d("-2",(1.5,-1,0),color="green",fontsize=20)
          plot14+=text3d("1",(0.5,-1.5,0),color="blue",fontsize=20)
          plot14+=text3d("3",(1.25,-2.25,1.5),color="red",fontsize=20)
          plot14+=text3d("P=(1,-2,3)",(1,-2,3.5),color="black",fontsize=25)
          plot14
        </slate>
      </interactive>
    </figure>
    <activity xml:id="rect3d_followup">
      <title>Drawing Points in 3D</title>
      <introduction>
        <p>
          In this problem to move <q>forward</q> or <q>backwards</q> is to move in the direction of positive <m>x</m> (the <m>x</m>-coordinate increases, the <m>y</m> and <m>z</m> remain the same) or negative <m>x</m> (the <m>x</m>-coordinate decreases, the <m>y</m> and <m>z</m> remain the same), respectively; <q>to the right</q> or <q>to the left</q> is moving in the positive or negative <m>y</m> direction, respectively; <q>up</q> or <q>down</q> is moving in the positive or negative <m>z</m> direction, respectively:
        </p>
      </introduction>
      <task xml:id="rect3dpart1" >
        <p>
          Find the coordinates of the point <m>A</m> where one ends if one starts at point <m>(1,2,3)</m> and moves 5 units forward, 4 units to the left, and 2 units up.
        </p>
      </task>
      <task>
        <p>
          Draw the point <m>A</m> (that is your answer to <xref ref="rect3dpart1">task</xref>) on a set of 3D axes and include the line segments that show that coordinate's points as a set of directions from the origin (like in <xref ref="point-in3d-reference" />).
        </p>
      </task>
      <task xml:id="rect3dpart2">
        <p>
          Find the coordinates of the point <m>B</m> where one ends if one starts at point <m>(3,-4,2)</m> and moves 4 units backwards, 4 units to the right, and 4 units down.
        </p>
      </task>
      <task>
        <p>
          Draw the point <m>B</m> (that is your answer to <xref ref="rect3dpart2">task</xref>) on a set of 3D axes and include the line segments that show that coordinate's points as a set of directions from the origin (like in <xref ref="point-in3d-reference" />).
        </p>
      </task>
    </activity>
  </subsection>

  <subsection>
    <title>Fundamental Planes</title>
    <p>
      At this point we will want to understand graphs of some simple equations in three dimensions. For example, in <m>\R^2</m>, the graphs of the equations <m>x=a</m> and <m>y=b</m>, where <m>a</m> and <m>b</m> are constants, are lines parallel to the coordinate axes. Remember that a graph of an equation is a plot of all points that satisfy this equation; This means that the graph of an equation is a visual representation of all locations whose coordiantes will make the left side of your equation equal to the right side of the equation. The equation should give you a way to test whether a point is on the graph or not. For instance, the graph of <m>x=2</m> in two dimensions will be a vertical line with <m>x</m> intercept of 2, because the points of the form <m>(2,y)</m> satisfy the equation <m>x=2</m> (for any choice of <m>y \in \mathbb{R}</m>.) In the next activity we consider the three-dimensional analogs.
    </p>

    <activity xml:id="A-9-1-3">
      <task>
        <statement>
          <p>
            Consider the set of points <m>(x,y,z)</m> that satisfy the equation <m>x=2</m>. Describe this set as best you can.
          </p>
        </statement>
        <answer>
          <p>
            The set of points <m>(x,y,z)</m> where <m>x = 2</m> is all the points such that <m>(2,y,z)</m>, which creates a plane that is parallel to the yz-plane and goes through <m>(2,0,0)</m>.
          </p>
        </answer>
        <solution>
          <p>
            The set of points <m>(x,y,z)</m> where <m>x = 2</m> is all the points such that <m>(2,y,z)</m>, which creates a plane that is parallel to the yz-plane and goes through <m>(2,0,0)</m>.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Consider the set of points <m>(x,y,z)</m> that satisfy the equation <m>y=-1</m>. Describe this set as best you can.
          </p>
        </statement>
        <answer>
          <p>
            The set of points <m>(x,y,z)</m> where <m>y = -1</m> is all the points such that <m>(x,-1,z)</m>, which creates a plane that is parallel to the xz-plane and goes through <m>(0,-1,0)</m>.
          </p>
        </answer>
        <solution>
          <p>
            The set of points <m>(x,y,z)</m> where <m>y = -1</m> is all the points such that <m>(x,-1,z)</m>, which creates a plane that is parallel to the xz-plane and goes through <m>(0,-1,0)</m>.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Consider the set of points <m>(x,y,z)</m> that satisfy the equation <m>z=0</m>. Describe this set as best you can.
          </p>
        </statement>
        <answer>
          <p>
            The set of points <m>(x,y,z)</m> where <m>z = 0</m> is all the points such that <m>(x,y,0)</m>, which creates a plane that is parallel to the xy-plane and goes through <m>(0,0,0)</m>.
          </p>
        </answer>
        <solution>
          <p>
            The set of points <m>(x,y,z)</m> where <m>z = 0</m> is all the points such that <m>(x,y,0)</m>, which creates a plane that is parallel to the xy-plane and goes through <m>(0,0,0)</m>.
          </p>
        </solution>
      </task>

    </activity>
    <p>
      <xref ref="A-9-1-3">Activity</xref> shows that the equations where one of the rectangular coordinates is held constant leads to planes parallel to the coordinate planes. When we make the constant 0, we get the <em>coordinate planes</em><idx><h>coordinate planes</h></idx>. The <m>xy</m>-plane satisfies <m>z=0</m>, the <m>xz</m>-plane satisfies <m>y=0</m>, and the <m>yz</m>-plane
      satisfies <m>x=0</m> (see <xref ref="F-9-1-coordinate-planes">Figure</xref>). Planes of the form <m>x=a</m>, <m>y=b</m>, <m>z=c</m> are called <term>fundamental planes</term> are useful in understanding and building many different structures in 3D. In a plot like <xref ref="coord2d-PA3" />, you see a grid that helps measure coordinates of points. <xref ref="fundamental-planes" /> below has a lot of visual clutter and is very hard to distinguish fine features, especially something in the middle of the plot. Contrast this to how helpful the grid in <xref ref="coord2d-PA6" /> is. 
    </p>
    <figure xml:id="fundamental-planes">
      <caption>A grid of fundamental planes in 3D</caption>
      <interactive title="interactive-fundamental-plane" platform="sage" width="90%" aspect="1:1">
        <slate surface="sage">
          from sage.plot.plot3d.plot3d import axes
          var('t,s')
          plot16=axes(4,1,color="black",frame=False)+text3d("x",(4.5,0,0),fontsize=30)+text3d("y",(0,4.5,0),fontsize=30)+text3d("z",(0,0,4.5),fontsize=30)
          vals=[-2,-1,0,1,2]
          d=3.25
          for c in vals:
              plot16+=parametric_plot3d((s,t,c),(s,-3,3),(t,-3,3),color="green",opacity=.2,mesh=True,plot_points=3)
              plot16+=parametric_plot3d((c,t,s),(s,-3,3),(t,-3,3),color="red",opacity=.2,mesh=True,plot_points=3)
              plot16+=parametric_plot3d((s,c,t),(s,-3,3),(t,-3,3),color="blue",opacity=.2,mesh=True,plot_points=3)
              plot16+=text3d("z="+str(c),(-d,d,c),fontsize=15,color="green")+text3d("y="+str(c),(-d,c,d),fontsize=15,color="blue")+text3d("x="+str(c),(c,-d,d),fontsize=15,color="red")
          show(plot16,aspect_ratio=1,viewpoint=[[-0.1671,-0.4034,-0.8997],139.12],camera_position=[9.786,9.786,12.2931])
        </slate>
      </interactive>
    </figure>

    <!-- <figure xml:id="F-9-1-coordinate-planes">
      <caption>The coordinate planes.</caption>
      <sidebyside widths="33% 33% 33%" margins="0%">
      <image source="images/fig_9_1_xy_plane"/>
      <image source="images/fig_9_1_xz_plane"/>
      <image source="images/fig_9_1_yz_plane"/>
      </sidebyside>
    </figure> -->
    
    </subsection>
    <subsection xml:id="subsec-distanceformula">
      <title>Distance Formula in 3D</title>
    <p>
      On a related note, we define a circle in <m>\R^2</m> as the set of all points equidistant from a fixed point. In <m>\R^3</m>, we call the set of all points equidistant from a fixed point a <em>sphere</em><idx><h>sphere</h><h>definition</h></idx>. To find the equation of a sphere, we need to understand how to calculate the distance between two points in three-space, and we explore this idea in the next activity.
    </p>

    <activity xml:id="Distance-Activity">
      <introduction>
        <p>
          Let <m>P=(x_0, y_0, z_0)</m> and <m>Q=(x_1, y_1, z_1)</m> be two points in <m>\R^3</m>. These two points form opposite vertices of a rectangular box whose sides are planes parallel to the coordinate planes as illustrated in <xref ref="distance-box">Figure</xref>, and the distance between <m>P</m> and <m>Q</m> is the length of the blue diagonal shown in <xref ref="distance-box">Figure</xref>.
        </p>
        <figure xml:id="distance-box">
          <caption>A plot of <m>P=(x_0, y_0, z_0)</m> and <m>Q=(x_1, y_1, z_1)</m> with connecting segments</caption>
          <interactive title="interactive-distance" platform="sage" width="90%" aspect="1:1">
            <slate surface="sage">
              var('t')
              plot18=point3d((0,0,0),size=20,color="black",frame=False)+point3d((1.5,2,1),size=20,color="black")
              plot18+=text3d("P=(x\u2080,y\u2080,z\u2080)",(0,0,-0.3),color="black",fontsize=30)+text3d("Q=(x\u2081,y\u2081,z\u2081)",(1.5,2,1.3),color="black",fontsize=30)
              plot18+=line3d([(0,0,0),(1.5,0,0),(1.5,0,1),(1.5,0,0),(1.5,2,0),(1.5,2,1),(1.5,2,0),(0,2,0),(0,2,1),(0,2,0),(0,0,0),(0,0,1),(1.5,0,1),(1.5,2,1),(0,2,1),(0,0,1)],thickness=2,color="black")
              plot18+=line3d([(0,0,0),(1.5,2,0)],thickness=2,color="red")+text3d("R",(1.7,2.2,-0.1),color="black",fontsize=30)+point3d((1.5,2,0),color="black",size=20)
              plot18+=point3d((1.5,0,0),size=20,color="black")+text3d("S",(1.7,0,-.1),color="black",fontsize=30)
              plot18+=line3d([(0,0,0),(1.5,2,1)],thickness=2,color="blue")
              show(plot18,aspect_ratio=1,viewpoint=[[-0.9658,-0.1452,-0.2149],69.96],camera_position=[1.9934,-2.6168,2.0633])
            </slate>
          </interactive>
          
        </figure>
          <!-- <figure xml:id="F-9-1-Distance-3D">
            <caption>The distance formula in <m>\R^3</m>.</caption>
            <image width="50%" source="images/fig_9_1_distance"/>
          </figure> -->
      </introduction>
      <task>
        <statement>
          <p>
            Consider the right triangle <m>PRS</m> in the base of the box whose hypotenuse is shown as the red line in <xref ref="distance-box">Figure</xref>. What are the coordinates of the vertices of this triangle? 
          </p>
        </statement>
        <answer>
          <p>
            <m>S = (x_{1},y_{0},z_{0})</m> <m>R = (x_{1},y_{1},z_{0})</m>.
          </p>
        </answer>
        <solution>
          <p>
            <m>S = (x_{1},y_{0},z_{0})</m> <m>R = (x_{1},y_{1},z_{0})</m>.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Give the equation of the plane that contains the right triangle <m>PRS</m>. 
          </p>
        </statement>
        <hint>
          <p>
            One of the coordinates is the same for all three points <m>P, R, S</m>.
          </p>
        </hint>
        <answer>
          <p>
            <m>z=z_0</m>
          </p>
        </answer>
        <solution>
          <p>
            <m>z=z_0</m>
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Since the right triangle <m>PRS</m> lies in a plane, we can use the Pythagorean Theorem to find a formula for the length of the hypotenuse of this triangle. Find the length of the segment <m>PR</m> in terms of <m>x_0</m>, <m>y_0</m>, <m>x_1</m>, and <m>y_1</m>.
          </p>
        </statement>
        <answer>
          <p>
            <m>PR = \sqrt{\left( x_{1} - x_{0} \right)^{2} + \left( y_{1} - y_{0} \right)^{2}}</m>.
          </p>
        </answer>
        <solution>
          <p>
            <m>PR = \sqrt{\left( x_{1} - x_{0} \right)^{2} + \left( y_{1} - y_{0} \right)^{2}}</m>.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            The triangle <m>PRQ</m> has hypotenuse drawn with the blue segment connecting the points <m>P</m> and <m>Q</m> with a leg as the hypotenuse <m>PR</m> of the triangle lies entirely in a plane, so we can again use the Pythagorean Theorem to find the length of its hypotenuse. Show that the length of <m>PQ</m> is 
              <me>
                \sqrt{(x_1-x_0)^2 + (y_1-y_0)^2 + (z_1-z_0)^2}.
              </me>
          </p>
        </statement>
        <answer>
          <p>
            <m>PQ = \sqrt{\left( x_{1} - x_{0} \right)^{2} + \left( y_{1} - y_{0} \right)^{2} + \left( z_{1} - z_{0} \right)^{2}}</m>
          </p>
        </answer>
        <solution>
          <p>
            <m>PQ = \sqrt{\left( x_{1} - x_{0} \right)^{2} + \left( y_{1} - y_{0} \right)^{2} + \left( z_{1} - z_{0} \right)^{2}}</m>
          </p>
        </solution>
      </task>
    </activity>
    <p>
      The method used in <xref ref="Distance-Activity">Activity</xref> does not depend on anything but the coordinates between the two points, so we can use the last result to measure the distance between any two points in <m>\mathbb{R}^3</m>.
    </p>

    <assemblage xml:id="Distance-formula">
    <title>The distance between points in 3D</title>
      <p>
        The distance between points <m>P=(x_0, y_0, z_0)</m> and <m>Q=(x_1, y_1, z_1)</m> (denoted as <m>|PQ|</m>) in <m>\R^3</m> is given by the formula
      <men xml:id="eq-9-1-Distance-3D">
        \vert{PQ}\vert = \sqrt{(x_1-x_0)^2 + (y_1-y_0)^2 + (z_1-z_0)^2}.
      </men>
      </p>
    </assemblage>

    <p>
      As <xref ref="Distance-Activity">Activity</xref> showed, the distance in two or three (or more!) dimensions depends on the change in each coordinate from point to point. Note that the distance does not depend on whether we consider <m>P</m> to <m>Q</m> or <m>Q</m> to <m>P</m>.
    </p>

    <p>
      Equation <xref ref="eq-9-1-Distance-3D"/> can be used to derive the formula for a <term>sphere</term> centered at a point <m>(x_0,y_0,z_0)</m> with radius <m>R</m>. Since the distance from any point <m>(x,y,z)</m> on such a sphere to the point <m>(x_0,y_0,z_0)</m> is <m>R</m>, the point <m>(x,y,z)</m> will satisfy the equation
      <me>
        \sqrt{(x-x_0)^2 + (y-y_0)^2 + (z-z_0)^2} = R
      </me>
    </p>

    <p>
      Squaring both sides, we come to the standard equation for a sphere.
    </p>

    <assemblage xml:id="Sphere">
    <title>The equation of a sphere</title>
      <p>
        The equation of a sphere with center <m>(x_0,y_0,z_0)</m> and radius <m>R</m> is
      <me>
        (x-x_0)^2 + (y-y_0)^2 + (z-z_0)^2 = R^2.
      </me>
      </p>
    </assemblage>

    <p>
      This makes sense if we compare this equation to its two-dimensional analogue, the equation of a circle of radius <m>R</m> in the plane centered at <m>(x_0,y_0)</m>:
      <me>
        (x-x_0)^2 + (y-y_0)^2 = R^2.
      </me>
    </p>
  </subsection>

  <subsection>
    <title>Summary</title>
    <ul>
      <li>
        <p>
          Coordinates in three dimensional space are measured in terms of distances from a location to the coordinate planes. 
        </p>
      </li>
      <li>
        <p>
          In <m>\R^3</m>, the distance between points <m>P=(x_0, y_0, z_0)</m> and <m>Q=(x_1, y_1, z_1)</m> (denoted as <m>|PQ|</m>)  is given by the formula
          <me>
            |PQ| = \sqrt{(x_1-x_0)^2 + (y_1-y_0)^2 + (z_1-z_0)^2}.
          </me>
          and thus the equation of a sphere with center <m>(x_0,y_0,z_0)</m> and radius <m>R</m> is
          <me>
            (x-x_0)^2 + (y-y_0)^2 + (z-z_0)^2 = R^2.
          </me>
        </p>
      </li>

    </ul>

    </subsection>
<xi:include href="exercises/ez-S_Precalc_3Dcoord.ptx" />

<subsection component="instructor">
  <title>Notes to the Instructor</title>
  <p>
    This section only expects students to have familiarity with measuring distance in two dimensions.
  </p>
</subsection>
</section>

