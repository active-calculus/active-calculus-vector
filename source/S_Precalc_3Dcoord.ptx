<?xml version="1.0"?>
<!-- **********************************************************************-->
<!-- Copyright 2013-2024                                                   -->
<!-- Steven Schlicker, Nicholas Long, Mitch Keller                         -->
<!--                                                                       -->
<!-- This file is part of Active Calculus Multivariable.                   -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-NC-SA license.  The work   -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike"; no party may sell this work or any of its    -->
<!-- derivatives for profit.  All trademarks are the registered marks of   -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->

<section xml:id="S-Precalc-3Dcoord" xmlns:xi="http://www.w3.org/2001/XInclude" >
  <title>Three Dimensional Space</title>
  
    <objectives>
        <ul>
          <li>
            <p>
              How can you describe a location in three dimensional space?
            </p>
          </li>

          <li>
            <p>
              How do you measure distance between points in three or more dimensions?
            </p>
          </li>
        </ul>
    </objectives>

    <introduction> 
    <p>
      
    </p>

    <exploration xml:id="PA-2D-coord">
      <statement>
        <p>
          In this Preview Activity, we will recall some ideas about measurements and important ideas in two dimensional space. 
        </p>
      </statement>
      <task>
        <statement>
          <figure xml:id="coord2d-PA">
            <caption>A 2D plot with point <m>P</m> labeled</caption>
            <image width="55%" xml:id="img-coord2d-PA1">
              <description> A 2D plot with a point labeled P that is three units right of the vertical axis and 1 unit above the horizontal axis</description>
              <sageplot>
                plot4=point((3,1),color="black",size=20,axes=True,axes_labels=["$x$","$y$"],gridlines=True)
                plot4+=text("$P$",(3.3,1.3),color="black",fontsize=20,xmin=-2,xmax=4,ymin=-2,ymax=4,aspect_ratio=1)
                plot4            
              </sageplot>
            </image>
          </figure>
          <p>
            What are the coordinates of the point drawn in the plot above? Draw the segments from the point <m>P</m> to the vertical and horizontal axes to demonstrate the measurements of your coordinates. 
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            On the plot below, graph and label the following points: <m>P_1=(0,1)</m>, <m>P_2=(0,1)</m>, <m>P_3=(2,-3)</m>, <m>P_4=(3,-2)</m>, <m>P_5=(-3,2)</m>.
          </p>
          <figure xml:id="coord2d-PA2">
            <caption>A blank 2D set of axes</caption>
            <image width="55%" xml:id="img-coord2d-PA2">
              <description> A blank 2D plot where each coordinate varies from negative 4 to 4</description>
              <sageplot>
                plot5=point((0,0),color="black",size=0,axes=true,axes_labels=["$x$","$y$"],gridlines=True,xmin=-4,xmax=4,ymin=-4,ymax=4,aspect_ratio=1)
                plot5        
              </sageplot>
            </image>
          </figure>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            What equation describes the points on the horizontal axis? You should think about what these points have in common (not what is different about the points.)
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            On the axes below, draw a graph of each of the following equations: <m>x=1</m>, <m>y=-2</m>, and <m>-x=y</m>
          </p>
          <figure xml:id="coord2d-PA3">
            <caption>A blank 2D set of axes</caption>
            <image width="55%" xml:id="img-coord2d-PA3">
              <description> A blank 2D plot where each coordinate varies from negative 4 to 4</description>
              <sageplot>
                plot5=point((0,0),color="black",size=0,axes=true,axes_labels=["$x$","$y$"],gridlines=True,xmin=-4,xmax=4,ymin=-4,ymax=4,aspect_ratio=1)
                plot5  
              </sageplot>
            </image>
          </figure>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            What is the formula for the distance from <m>(x_1,y_1)</m> to <m>(x_2,y_2)</m>? Use this formula to find how far <m>(-1,2)</m> is from <m>(7,-4)</m>. 
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            Draw a plot of the points <m>(-1,2)</m> and <m>(7,-4)</m>. On your plot, draw the line segment that measures the distance between the points and the segments that measure the horizontal and vertical changes. Your plotted segments should make a right triangle. Explain how the right triangle you drew here relates to the calculation in the previous step.
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            Which of the following graphs can be expressed with <m>y</m> as a function of <m>x</m>? Show plots y=x^2, x=y^2, y=x+1, and x=2
          </p>
          
          <sidebyside widths="45% 45%" margins="0% 10% 0%">
            <figure xml:id="coord2d-PA6">
              <caption>Plot A</caption>
              <image width="55%" xml:id="img-coord2d-PA6">
                <description> A 2D plot of a parabola opening in the positive vertical direction</description>
                <sageplot>
                  var('x')
                  plot6=plot(x^2,(x,-4,4),color="black",axes=true,axes_labels=["$x$","$y$"],gridlines=True,xmin=-4,xmax=4,ymin=-4,ymax=4,aspect_ratio=1)
                  plot6   
                </sageplot>
              </image>
            </figure>
            <figure xml:id="coord2d-PA7">
              <caption>Plot B</caption>
              <image width="55%" xml:id="img-coord2d-PA7">
                <description> A 2D plot of a parabola opening in the positive horizontal direction</description>
                <sageplot>
                  var('t')
                  plot7=parametric_plot((t^2,t),(t,-4,4),color="black",axes=true,axes_labels=["$x$","$y$"],gridlines=True,xmin=-4,xmax=4,ymin=-4,ymax=4,aspect_ratio=1)
                  plot7
                </sageplot>
              </image>
            </figure>
          </sidebyside>
          <sidebyside widths="45% 45%" margins="0% 10% 0%">
            <figure xml:id="coord2d-PA8">
              <caption>Plot C</caption>
              <image width="55%" xml:id="img-coord2d-PA8">
                <description> A 2D plot of a line with slope 1 and y intercept 1</description>
                <sageplot>
                  var('t')
                  plot8=parametric_plot((t,t+1),(t,-4,4),color="black",axes=true,axes_labels=["$x$","$y$"],gridlines=True,xmin=-4,xmax=4,ymin=-4,ymax=4,aspect_ratio=1)
                  plot8
                </sageplot>
              </image>
            </figure>
            <figure xml:id="coord2d-PA9">
              <caption>Plot D</caption>
              <image width="55%" xml:id="img-coord2d-PA9">
                <description> A 2D plot of a vertical line with x intercept 2</description>
                <sageplot>
                  var('t')
                  plot9=parametric_plot((2,t),(t,-4,4),color="black",axes=true,axes_labels=["$x$","$y$"],gridlines=True)
                  plot9.show(xmin=-4,xmax=4,ymin=-4,ymax=4)
                </sageplot>
              </image>
            </figure>
          </sidebyside>
        </statement>
      </task>
    </exploration>
  </introduction>

  <subsection>
    <title>Three Dimensional Space and Coordinates</title>
  
  <p>
    To plot points three-dimensional points, we need to set up a coordinate system with three mutually perpendicular axes <mdash/> the      <m>x</m>-axis, the <m>y</m>-axis, and the <m>z</m>-axis (called the <em>coordinate axes</em>). There are essentially two different ways we could set up a 3D coordinate system, as shown in <xref ref="F-9-1-left-right-hand">Figure</xref>; thus, before we can proceed, we need to establish a convention.
  </p>
    <figure xml:id="F-9-1-left-right-hand">
      <caption>Left: A left hand system. Right: A right hand system</caption>
      <sidebyside widths="50% 50%">
        <image source="images/fig_9_1_left_hand"/>
        <image source="images/fig_9_1_right_hand"/>
        </sidebyside>
    </figure>
    
    <p>
      The distinction between these two figures is subtle, but important. In the coordinate system shown at left in <xref ref="F-9-1-left-right-hand">Figure</xref>, imagine that you are sitting on the positive <m>z</m>-axis next to the label <q><m>z</m>.</q> Looking down at the <m>x</m>- and <m>y</m>-axes, you see that the <m>y</m>-axis is obtained by rotating the <m>x</m>-axis by 90<m>^\circ</m> in the <em>clockwise</em> direction. Again sitting on the positive <m>z</m>-axis in the coordinate system at right in <xref ref="F-9-1-left-right-hand">Figure</xref>, you see that the <m>y</m>-axis is obtained by rotating the <m>x</m>-axis by 90<m>^\circ</m> in the <em>counterclockwise</em> direction.
    </p>

    <p>
      We call the coordinate system at right in <xref ref="F-9-1-left-right-hand"/> a <term>right-hand system</term>; if we point the index finger of our <em>right</em> hand along the positive <m>x</m>-axis and our middle finger along the positive <m>y</m>-axis, then our thumb points in the direction of the positive <m>z</m>-axis. Following mathematical conventions, we choose to use a right-hand system throughout this book.
    </p>

    <p>
      <em>Notation:</em> We let <m>\R^2</m> denote the set of all ordered pairs of real numbers in the plane (two copies of the real number system) and let <m>\R^3</m> represent the set of all ordered triples of real numbers (which constitutes three-space).
    </p>
    
    <p>
      In other disciplines or settings you may see the y-axis as being oriented vertically with the x-axis going left/right and the z-axis is going in and out of the page like in the figure below. This orientation may be useful for you because you can think of the traditional orientation of the <m>xy</m>-plane (when drawn on paper) with the positive <m>z</m>-axis coming out of the page. 
    </p>
    <figure xml:id="phy-coord">
      <caption>An alternate orientation of a right handed coordinate system for <m>\mathbb{R}^3</m></caption>
      <image width="55%" source="./images/fig_9_1_right_hand_other.png" />
    </figure>
    <p>
      Now that we have established how our axes will be defined, we can use these axes to define how to measure coordinates and make a few basic graphs. In two dimensions, the horizontal coordinate was measured as the (minimum) distance to the vertical axis and the vertical coordinate was measured as the (minimum) distance to the horizontal axis. These measurements are actually signed distance becuase the measurement is positive when the point is above the given axis and negative when the measurement is below the given axis. The plot below shows the measurement of the coordinates for a point in the first quadrant and the fourth quadrant. Notice that <m>a</m>, <m>b</m>, and <m>c</m> will be positive and <m>d</m> will be negative. 
    </p>
    <figure xml:id="coord2d-measurement">
      <caption>A plot with the 2D coordinate measurements labeled</caption>
      <image width="55%" xml:id="img-coord2d-measurement">
        <description> A plot with the 2D coordinate measurements labeled for a point in the first quadrant and a point in the fourth quadrant</description>
        <sageplot>
          var('t')
          plot11=point((3,1),color="black",size=20,axes=True,axes_labels=["$x$","$y$"],ticks=[[],[]],gridlines=True)
          plot11+=line([(0,1),(3,1)],color="red")+line([(3,0),(3,1)],color="blue")
          plot11+=text("$a$",(1.5,1.3),color="red",fontsize=20)+text("$b$",(3.3,0.5),color="blue",fontsize=20)
          plot11+=text("$P=(a,b)$",(3.3,1.3),color="black",fontsize=20)+text("$Q=(c,d)$",(2.3,-2.3),color="black",fontsize=20)
          plot11+=point((2,-2),color="black",size=20)
          plot11+=line([(0,-2),(2,-2)],color="red")+line([(2,0),(2,-2)],color="blue")
          plot11+=text("$c$",(1,-1.3),color="red",fontsize=20)+text("$d$",(2.3,-1),color="blue",fontsize=20,xmin=-2,xmax=4,ymin=-2,ymax=4,aspect_ratio=1)
          plot11
        </sageplot>
      </image>
    </figure>
    <p>
      In a three dimensional space, we need to pay attention to the coordinate planes and not just the axes. The plot below shows how the <m>xy</m>-plane is the plane that contains the <m>x</m>- and <m>y</m>-axes. We can define the <m>xz</m>- and <m>yz</m>-planes in a similar manner.
    </p>
    <figure xml:id="coor-planes">
      <caption>The coordinate planes in 3D</caption>
      <interactive xml:id="interactive-coor-plane" platform="sage" width="100%" aspect="1:1">
        <slate surface="sage">
          from sage.plot.plot3d.plot3d import axes
          var('t,s')
          plot12=axes(3,1,color="black")+text3d("x",(3.5,0,0),fontsize=30)+text3d("y",(0,3.5,0),fontsize=30)+text3d("z",(0,0,3.5),fontsize=30)
          plot12+=parametric_plot3d((s,t,0),(s,-3,3),(t,-3,3),color="green",opacity=.25,frame=False)+parametric_plot3d((0,t,s),(s,-3,3),(t,-3,3),color="red",opacity=.25,frame=False)+parametric_plot3d((s,0,t),(s,-3,3),(t,-3,3),color="blue",opacity=.25,frame=False)
          d=3.5
          plot12+=text3d("xy-plane",(d,d,0),fontsize=15,color="green")+text3d("xz-plane",(d,0,d),fontsize=15,color="blue")+text3d("yz-plane",(0,d,d),fontsize=15,color="red")
          show(plot12.rotate((-.15,-.15,1),pi/2),aspect_ratio=1)
        </slate>
      </interactive>
    </figure>
    <p>
      The location of a point is measured with three coordinates in a three dimensional space. The three dimensional rectangular coordinates are measured as the signed distances two each of the coordinate planes. The point (1,-2,3) is shown in the following plot.
    </p>
    <figure xml:id="point-in3d">
      <caption>A plot of the point <m>(1,-2,3)</m></caption>
      <slate surface="sage">
        from sage.plot.plot3d.plot3d import axes
        var('t,s')
        plot15=axes(3,1,color="black",frame=False,aspect_ratio=1)+text3d("x",(3.5,0,0),fontsize=30)+text3d("y",(0,3.5,0),fontsize=30)+text3d("z",(0,0,3.5),fontsize=30)
        plot15+=point3d((1,-2,3),size=10,color="black")
        show(plot15.rotate((0,0,1),pi/2))
      </slate>
    </figure>
    <p>
      Notice how hard it is to see where that point in space is positioned without turning the axes. When drawing points (or other plots) in 3D, it is often useful to draw segements or other features that are parallel to coordinate axes in order to help the viewer see the proper orientation and locations. For instance, see how much easier it is to understand the location of the point <m>(1,-2,3)</m> in the plot below because of the parallel structures that are shown on the plot.
    </p>
    <figure xml:id="point-in3d-reference">
      <caption>A plot of the point <m>(1,-2,3)</m> with line segments parallel to the coordinate axes</caption>
      <slate surface="sage">
        from sage.plot.plot3d.plot3d import axes
        var('t,s')
        plot14=axes(3,1,color="black",frame=False,aspect_ratio=1)+text3d("x",(3.5,0,0),fontsize=30)+text3d("y",(0,3.5,0),fontsize=30)+text3d("z",(0,0,3.5),fontsize=30)
        plot14+=point3d((1,-2,3),size=10,color="black")+parametric_plot3d((t,-2,0),(t,0,1))+parametric_plot3d((1,-t,0),(t,0,2))+parametric_plot3d((1,-2,t),(t,0,3))
        plot14+=line([(0,0,0),(0,-3,0)],color="black",style="-")
        show(plot14.rotate((0,0,1),pi/8))
      </slate>
    </figure>
    <activity xml:id="rect3d_followup">
      <title>Drawing Points in 3D</title>
      <introduction>
        <p>
          In this problem to move “forward” or “backwards” is to move in the direction of positive  x (the x coordinate increases, the y and z remain the same) or negative x (the x coordinate decreases, the y and z remain the same), respectively; “to the right” or “to the left” is moving in the positive or negative y direction, respectively; “up” or “down” is moving in the positive or negative z direction, respectively:
        </p>
      </introduction>
      <task xml:id="rect3dpart1" >
        <p>
          Find the coordinates of the point <m>A</m> where one ends if one starts at point <m>(1,2,3)</m> and moves 5 units forward, 4 units to the left, and 2 units up.
        </p>
      </task>
      <task>
        <p>
          Draw the point <m>A</m> (that is your answer to <xref ref="rect3dpart1">task</xref>) on a set of 3D axes and include the line segments that show that coordinate's points as a set of directions from the origin (like in <xref ref="point-in3d-reference">Activity</xref>).
        </p>
      </task>
      <task xml:id="rect3dpart2">
        <p>
          Find the coordinates of the point <m>B</m> where one ends if one starts at point <m>(3,-4,2)</m> and moves 4 units backwards, 4 units to the right, and 4 units down.
        </p>
      </task>
      <task>
        <p>
          Draw the point <m>B</m> (that is your answer to <xref ref="rect3dpart2">task</xref>) on a set of 3D axes and include the line segments that show that coordinate's points as a set of directions from the origin (like in <xref ref="point-in3d-reference">Activity</xref>).
        </p>
      </task>
    </activity>
  </subsection>

  <subsection>
    <title>Fundamental Planes</title>
    <p>
      At this point we will want to understand graphs of some simple equations in three dimensions. For example, in <m>\R^2</m>, the graphs of the equations <m>x=a</m> and <m>y=b</m>, where <m>a</m> and <m>b</m> are constants, are lines parallel to the coordinate axes. Remember that a graph of an equation is a plot of all points that satisfy this equation; This means that the graph of an equation is a visual representation of all locations whose coordiantes will make the left side of your equation equal to the right side of the equation. The equation should give you a way to test whether a point is on the graph or not. For instance, the graph of <m>x=2</m> in two dimensions will be a vertical line with <m>x</m> intercept of 2, because the points of the form <m>(2,y)</m> satisfy the equation <m>x=2</m> (for any choice of <m>y \in \mathbb{R}</m>. In the next activity we consider the three-dimensional analogs.
    </p>

    <activity xml:id="A-9-1-3">
      <task>
        <statement>
          <p>
            Consider the set of points <m>(x,y,z)</m> that satisfy the equation <m>x=2</m>. Describe this set as best you can.
          </p>
        </statement>
        <answer>
          <p>
            The set of points <m>(x,y,z)</m> where <m>x = 2</m> is all the points such that <m>(2,y,z)</m>, which creates a plane that is parallel to the yz-plane and goes through <m>x = 2</m>.
          </p>
        </answer>
        <solution>
          <p>
            The set of points <m>(x,y,z)</m> where <m>x = 2</m> is all the points such that <m>(2,y,z)</m>, which creates a plane that is parallel to the yz-plane and goes through <m>x = 2</m>.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Consider the set of points <m>(x,y,z)</m> that satisfy the equation <m>y=-1</m>. Describe this set as best you can.
          </p>
        </statement>
        <answer>
          <p>
            The set of points <m>(x,y,z)</m> where <m>y = -1</m> is all the points such that <m>(x,-1,z)</m>, which creates a plane that is parallel to the xz-plane and goes through <m>y = -1</m>.
          </p>
        </answer>
        <solution>
          <p>
            The set of points <m>(x,y,z)</m> where <m>y = -1</m> is all the points such that <m>(x,-1,z)</m>, which creates a plane that is parallel to the xz-plane and goes through <m>y = -1</m>.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Consider the set of points <m>(x,y,z)</m> that satisfy the equation <m>z=0</m>. Describe this set as best you can.
          </p>
        </statement>
        <answer>
          <p>
            The set of points <m>(x,y,z)</m> where <m>z = 0</m> is all the points such that <m>(x,y,0)</m>, which creates a plane that is parallel to the xy-plane and goes through <m>z = 0</m>.
          </p>
        </answer>
        <solution>
          <p>
            The set of points <m>(x,y,z)</m> where <m>z = 0</m> is all the points such that <m>(x,y,0)</m>, which creates a plane that is parallel to the xy-plane and goes through <m>z = 0</m>.
          </p>
        </solution>
      </task>

    </activity>
    <p>
      <xref ref="A-9-1-3">Activity</xref> shows that the equations where one of the rectangular coordinates is held constant leads to planes parallel to the coordinate planes. When we make the constant 0, we get the <em>coordinate planes</em><idx><h>coordinate planes</h></idx>. The <m>xy</m>-plane satisfies <m>z=0</m>, the <m>xz</m>-plane satisfies <m>y=0</m>, and the <m>yz</m>-plane
      satisfies <m>x=0</m> (see <xref ref="F-9-1-coordinate-planes">Figure</xref>). Planes of the form <m>x=a</m>, <m>y=b</m>, <m>z=c</m> are called <term>fundamental planes</term> are useful in understanding and building many different structures in 3D. In a plot like <xref ref="coord2d-PA3" />, you see a grid that helps measure coordinates of points. The corresponding plot below has a lot of visual clutter and is very hard to distinguish fine features. 
    </p>
    <figure xml:id="fundamental-planes">
      <caption>A grid of fundamental planes in 3D</caption>
      <interactive xml:id="interactive-fundamental-plane" platform="sage" width="90%" aspect="1:1">
        <slate surface="sage">
          from sage.plot.plot3d.plot3d import axes
          var('t,s')
          plot16=axes(3,1,color="black",frame=False)+text3d("x",(3.5,0,0),fontsize=30)+text3d("y",(0,3.5,0),fontsize=30)+text3d("z",(0,0,3.5),fontsize=30)
          vals=[-2,-1,0,1,2]
          d=3.5
          for c in vals:
            plot16+=parametric_plot3d((s,t,c),(s,-3,3),(t,-3,3),color="green",opacity=.25)+parametric_plot3d((c,t,s),(s,-3,3),(t,-3,3),color="red",opacity=.25) +parametric_plot3d((s,c,t),(s,-3,3),(t,-3,3),color="blue",opacity=.25)
            plot16+=text3d("z="+str(c),(d,d,c),fontsize=15,color="green")+text3d("y="+str(c),(d,c,d),fontsize=15,color="blue")+text3d("x="+str(c),(c,d,d),fontsize=15,color="red")
          show(plot16.rotate((-.15,-.15,1),pi/2),aspect_ratio=1)
        </slate>
      </interactive>
    </figure>

    <!-- <figure xml:id="F-9-1-coordinate-planes">
      <caption>The coordinate planes.</caption>
      <sidebyside widths="33% 33% 33%" margins="0%">
      <image source="images/fig_9_1_xy_plane"/>
      <image source="images/fig_9_1_xz_plane"/>
      <image source="images/fig_9_1_yz_plane"/>
      </sidebyside>
    </figure> -->
    <p> 
     In two dimensions, the four regions that were separated by the coordinate axes are called quadrants and are typically labeled as in the plot below.
    </p>
    <figure xml:id="quadrants">
      <caption>The four quadrants</caption>
      <image width="55%" xml:id="img-quadrants">
        <description> A plot of the four quadrants </description>
        <sageplot>
          plot17=text("Quadrant I",(2,2),color="black",fontsize=15,axes=true,axes_labels=["$x$","$y$"])
          plot17+=text("Quadrant II",(-2,2),color="black",fontsize=15)
          plot17+=text("Quadrant III",(-2,-2),color="black",fontsize=15)
          plot17+=text("Quadrant IV",(2,-2),color="black",fontsize=15,xmin=-4,xmax=4,ymin=-4,ymax=4,aspect_ratio=1)
          plot17
        </sageplot>
      </image>
    </figure>
    <p>
      The coordinate planes will divide our three dimensional space up into eight different regions, which we will call <term>octants</term>. The octants with positive <m>z</m>-coordinates are ordered just like the quadrants in 2D and octants 5 through 8 have the same relationships with negative <m>z</m>-coordinates. 
    </p>
    <figure xml:id="octants">
      <caption>A plot of the eight octants </caption>
      <interactive xml:id="interactive-octants" platform="sage" width="90%" aspect="1:1">
        <slate surface="sage">
          from sage.plot.plot3d.plot3d import axes
          var('t,s')
          plot3=axes(3,1,color="black")+text3d("x",(3.5,0,0),fontsize=30)+text3d("y",(0,3.5,0),fontsize=30)+text3d("z",(0,0,3.5),fontsize=30)
          plot3+=parametric_plot3d((s,t,0),(s,-3,3),(t,-3,3),color="green",opacity=.25,frame=False)+parametric_plot3d((0,t,s),(s,-3,3),(t,-3,3),color="red",opacity=.25,frame=False)+parametric_plot3d((s,0,t),(s,-3,3),(t,-3,3),color="blue",opacity=.25,frame=False)
          d=2
          names=["First Octant","Second Octant","Third Octant", "Fourth Octant","Fifth Octant","Sixth Octant","Seventh Octant","Eighth Octant"]
          locations=[(d,d,d),(-d,d,d),(-d,-d,d),(d,-d,d),(d,d,-d),(-d,d,-d),(-d,-d,-d),(d,-d,-d)]
          for i in range(len(names)):
              plot3+=text3d(names[i],locations[i],fontsize=20)
          show(plot3.rotate((-.25,-1,1.25),1.5))
        </slate>
      </interactive>
      <!-- The other view in print should use plot3.rotate((1,-.75,-.75),3)-->
    </figure>
    </subsection>
    <subsection xml:id="subsec-distanceformula">
      <title>Distance Formula in 3D</title>
    <p>
      On a related note, we define a circle in <m>\R^2</m> as the set of all points equidistant from a fixed point. In <m>\R^3</m>, we call the set of all points equidistant from a fixed point a <em>sphere</em><idx><h>sphere</h><h>definition</h></idx>. To find the equation of a sphere, we need to understand how to calculate the distance between two points in three-space, and we explore this idea in the next activity.
    </p>

    <activity xml:id="Distance-Activity">
      <introduction>
        <p>
          Let <m>P=(x_0, y_0, z_0)</m> and <m>Q=(x_1, y_1, z_1)</m> be two points in <m>\R^3</m>. These two points form opposite vertices of a rectangular box whose sides are planes parallel to the coordinate planes as illustrated in <xref ref="distance-box">Figure</xref>, and the distance between <m>P</m> and <m>Q</m> is the length of the blue diagonal shown in <xref ref="distance-box">Figure</xref>.
        </p>
        <figure xml:id="distance-box">
          <caption>A plot of <m>P=(x_0, y_0, z_0)</m> and <m>Q=(x_1, y_1, z_1)</m> with connecting segments</caption>
          <interactive xml:id="interactive-distance" platform="sage" width="90%" aspect="1:1">
            <slate surface="sage">
              var('t')
              plot18=point3d((0,0,0),size=10,color="black",frame=False)+point3d((1.5,2,1),size=10,color="black")
              plot18+=text3d("P=(x0,y0,z0)",(0,0,-0.3),color="black",fontsize=15)+text3d("Q=(x1,y1,z1)",(1.5,2,1.3),color="black",fontsize=15)
              plot18+=line3d([(0,0,0),(1.5,0,0),(1.5,0,1),(1.5,0,0),(1.5,2,0),(1.5,2,1),(1.5,2,0),(0,2,0),(0,2,1),(0,2,0),(0,0,0),(0,0,1),(1.5,0,1),(1.5,2,1),(0,2,1),(0,0,1)],thickness=5,color="black")
              plot18+=line3d([(0,0,0),(1.5,2,0)],thickness=10,color="red")+text3d("R",(1.7,2.2,-0.1),color="black")+point3d((1.5,2,0),color="black",size=10)
              plot18+=point3d((1.5,0,0),size=10,color="black")+text3d("S",(1.7,0,-.1),color="black",fontsize=15)
              plot18+=line3d([(0,0,0),(1.5,2,1)],thickness=10,color="blue")
              show(plot18.rotate((0,0,-1),0.5),aspect_ratio=1)
            </slate>
          </interactive>
          
        </figure>
          <!-- <figure xml:id="F-9-1-Distance-3D">
            <caption>The distance formula in <m>\R^3</m>.</caption>
            <image width="50%" source="images/fig_9_1_distance"/>
          </figure> -->
      </introduction>
      <task>
        <statement>
          <p>
            Consider the right triangle <m>PRS</m> in the base of the box whose hypotenuse is shown as the red line in <xref ref="distance-box">Figure</xref>. What are the coordinates of the vertices of this triangle? 
          </p>
        </statement>
        <answer>
          <p>
            <m>S = (x_{1},y_{0},z_{0})</m> <m>R = (x_{1},y_{1},z_{0})</m>.
          </p>
        </answer>
        <solution>
          <p>
            <m>S = (x_{1},y_{0},z_{0})</m> <m>R = (x_{1},y_{1},z_{0})</m>.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Give the equation of the plane that contains the right triangle <m>PRS</m>. 
          </p>
        </statement>
        <hint>
          <p>
            One of the coordinates is the same for all three points <m>P, R, S</m>.
          </p>
        </hint>
        <answer>
          <p>
            <m>z=z_0</m>
          </p>
        </answer>
        <solution>
          <p>
            <m>z=z_0</m>
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Since the right triangle <m>PRS</m> lies in a plane, we can use the Pythagorean Theorem to find a formula for the length of the hypotenuse of this triangle. Find the length of the segment <m>PR</m> in terms of <m>x_0</m>, <m>y_0</m>, <m>x_1</m>, and <m>y_1</m>.
          </p>
        </statement>
        <answer>
          <p>
            <m>PR = \sqrt{\left( x_{1} - x_{0} \right)^{2} + \left( y_{1} - y_{0} \right)^{2}}</m>.
          </p>
        </answer>
        <solution>
          <p>
            <m>PR = \sqrt{\left( x_{1} - x_{0} \right)^{2} + \left( y_{1} - y_{0} \right)^{2}}</m>.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            The triangle <m>PRQ</m> has hypotenuse drawn with the blue segment connecting the points <m>P</m> and <m>Q</m> with a leg as the hypotenuse <m>PR</m> of the triangle lies entirely in a plane, so we can again use the Pythagorean Theorem to find the length of its hypotenuse. Show that the length of <m>PQ</m> is 
              <me>
                \sqrt{(x_1-x_0)^2 + (y_1-y_0)^2 + (z_1-z_0)^2}.
              </me>
          </p>
        </statement>
        <answer>
          <p>
            <m>PQ = \sqrt{\left( x_{1} - x_{0} \right)^{2} + \left( y_{1} - y_{0} \right)^{2} + \left( z_{1} - z_{0} \right)^{2}}</m>
          </p>
        </answer>
        <solution>
          <p>
            <m>PQ = \sqrt{\left( x_{1} - x_{0} \right)^{2} + \left( y_{1} - y_{0} \right)^{2} + \left( z_{1} - z_{0} \right)^{2}}</m>
          </p>
        </solution>
      </task>
    </activity>
    <p>
      The method used in <xref ref="Distance-Activity">Activity</xref> does not depend on anything but the coordinates between the two points, so we can use the last result to measure the distance between any two points in <m>\mathbb{R}^3</m>.
    </p>

    <assemblage xml:id="Distance-formula">
    <title>The distance between points</title>
      <p>
        The distance between points <m>P=(x_0, y_0, z_0)</m> and <m>Q=(x_1, y_1, z_1)</m> (denoted as <m>|PQ|</m>) in <m>\R^3</m> is given by the formula
      <men xml:id="eq-9-1-Distance-3D">
        |PQ| = \sqrt{(x_1-x_0)^2 + (y_1-y_0)^2 + (z_1-z_0)^2}.
      </men>
      </p>
    </assemblage>

    <p>
      As <xref ref="Distance-Activity">Activity</xref> showed, the distance in two or three (or more!) dimensions depends on the change in each coordinate from point to point. Note that the distance does not depend on whether we consider <m>P</m> to <m>Q</m> or <m>Q</m> to <m>P</m>.
    </p>

    <p>
      Equation <xref ref="eq-9-1-Distance-3D"/> can be used to derive the formula for a <term>sphere</term> centered at a point <m>(x_0,y_0,z_0)</m> with radius <m>R</m>. Since the distance from any point <m>(x,y,z)</m> on such a sphere to the point <m>(x_0,y_0,z_0)</m> is <m>r</m>, the point <m>(x,y,z)</m> will satisfy the equation
      <me>
        \sqrt{(x-x_0)^2 + (y-y_0)^2 + (z-z_0)^2} = R
      </me>
    </p>

    <p>
      Squaring both sides, we come to the standard equation for a sphere.
    </p>

    <assemblage xml:id="Sphere">
    <title>The equation of a sphere</title>
      <p>
        The equation of a sphere with center <m>(x_0,y_0,z_0)</m> and radius <m>R</m> is
      <me>
        (x-x_0)^2 + (y-y_0)^2 + (z-z_0)^2 = R^2.
      </me>
      </p>
    </assemblage>

    <p>
      This makes sense if we compare this equation to its two-dimensional analogue, the equation of a circle of radius <m>R</m> in the plane centered at <m>(x_0,y_0)</m>:
      <me>
        (x-x_0)^2 + (y-y_0)^2 = R^2.
      </me>
    </p>
  </subsection>

  <subsection>
    <title>Summary</title>
    <ul>
      <li>
        <p>
          Coordinates are measured in terms of discances from a location to the coordinate planes. 
        </p>
      </li>
      <li>
        <p>
          In <m>\R^3</m>, the distance between points <m>P=(x_0, y_0, z_0)</m> and <m>Q=(x_1, y_1, z_1)</m> (denoted as <m>|PQ|</m>)  is given by the formula
          <me>
            |PQ| = \sqrt{(x_1-x_0)^2 + (y_1-y_0)^2 + (z_1-z_0)^2}.
          </me>
          and thus the equation of a sphere with center <m>(x_0,y_0,z_0)</m> and radius <m>R</m> is
          <me>
            (x-x_0)^2 + (y-y_0)^2 + (z-z_0)^2 = R^2.
          </me>
        </p>
      </li>

    </ul>

    </subsection>
<xi:include href="exercises/ez-S_Precalc_3Dcoord.ptx" />

<subsection component="instructor">
  <title>Notes to the Instructor</title>
  <p>
    This section only expects students to have familiarity with measuring distance in two dimensions.
  </p>
</subsection>
</section>

