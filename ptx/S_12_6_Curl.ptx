<section xml:id="S_12_6_Curl">
  <title>The Curl of a Vector Field</title>
<objectives>
  <ul>
    <li>
      <p>
      What is meant by rotation of a vector field in a plane?
      </p>
    </li>
    <li>
      <p>
        How can we generalize our two dimensional measurement of rotation to work in three dimensions?
      </p>
    </li>
    <li>
      <p>
        How can you measure the rotational strength of a vector field?
      </p>
    </li>
  </ul>
</objectives>
<introduction>
  <p>
    In <xref ref="S_12_5_Div" >Section</xref>, we examined how the strength of a vector field in two (or more) dimensions changed in different regions. In particular, we developed the <xref ref="Div_defn" text="custom">divergence</xref> of a vector field as a local (or density) measurement for how the strength of the vector field changes.
    <ul>
      <li>A positive divergence means that the vector field is growing in strength</li>
      <li>A negative divergence means that the vector field is decreasing in strength</li>
      <li>A zero divergence mean that the vector field is not changing in strength</li>
    </ul>
  </p>
  <p>
    In many physical settings it is also useful to measure the rotational strength of a vector field at a local scale. For instance, the vector field on the left of <xref ref="Curl_intro_vfs">Figure</xref> shows a vector field which flows in a counterclockwise fashion around the origin. The vector field on the right of <xref ref="Curl_intro_vfs">Figure</xref> shows a vector field which does not have a rotational aspect to its flow.
  </p>
  <figure xml:id="Curl_intro_vfs">
    <caption>Examples of vector fields with global rotation properties (left) and without rotation in either the global or local sense (right)</caption>
    <sidebyside widths="45% 45%">
      <image source="images/curl_vf1"/>
      <image source="images/Div_activity_-x-y"/>
    </sidebyside>
  </figure>
  <p>
    These global ideas of rotation are nice but are not always visually apparent or may only appear in some regions. For instance, the vector field on the left of <xref ref="Curl_intro_vfs2">Figure</xref> seems to have rotation around at least a couple of different points. In each quadrant, the vector field on the right of <xref ref="Curl_intro_vfs2">Figure</xref> has different rotational patterns.
  </p>
  <figure xml:id="Curl_intro_vfs2">
    <caption>Examples of vector fields with varying rotation properties</caption>
    <sidebyside widths="45% 45%">
        <image source="images/Div_activity_xy1x"/>
        <image source="images/fig_12_5_vf1"/>
    </sidebyside>
  </figure>
  <exploration xml:id="Curl_PA">
    <introduction>
    <p>
      We would like to understand and measure rotation at the local level (in the neighborhood of a particular point) for a vector field. In order to investigate this concept, we will look at some two dimensional vector fields and think about whether the vector field shown will rotate a small pinwheel or spinner placed at a particular location.
    </p>
    <figure xml:id="spinner_fig">
      <caption>A picture of our model spinner</caption>
      <image width="55%" source="images/spinner_gif.gif"/>
    </figure>
    </introduction>
    <task xml:id="Curl_PA_task1">
      <statement>
        <p>For this part, look at the vector field in <xref ref="Curl_PA_task1_vf">Figure</xref>.</p>
        <figure xml:id="Curl_PA_task1_vf">
          <image width="55%" source="images/Curl_-yx_field"/>
        </figure>
        <ol>
          <li>
            <p>
              On your paper draw a set of axes and make an X at the origin to represent our spinner.
            </p>
          </li>
          <li>
            <p>
              For this task, think of the vector field in <xref ref="Curl_PA_task1_vf">Figure</xref> as being a wind pattern for points on your plane.
              <ul>
                <li>Draw a vector on the top right blade of your spinner that represents how the wind will push on that blade.</li>
                <li>Draw a vector on each of the other blades of your spinner that will represents how the wind will push on that blade.</li>
              </ul>
            </p>
          </li>
          <li>
            <p>
              Use your vector representations from the previous part to describe if a small spinner placed at the origin would spin clockwise, counterclockwise, or not spin at all.
            </p>
          </li>
          <li>
            <p>
              We would like to look at the rotational strength of the vector field in <xref ref="Curl_PA_task1_vf">Figure</xref> at the point <m>(1,1)</m> now. Draw an X on your plane at <m>(1,1)</m> to represent a spinner.
              <ul>
                <li>Draw a vector on the top right blade of your spinner at <m>(1,1)</m> that represents how the wind will push on that blade.</li>
                <li>Draw a vector on each of the other blades of your spinner that will represents how the wind will push on that blade. Be sure to draw the relative lengths of the vectors on each blade to scale so you can see which blades have a larger force due to the wind.</li>
              </ul>
            </p>
          </li>
          <li>
            <p>
              Use your vector representations from the previous part to describe if a small spinner placed at at <m>(1,1)</m> would spin clockwise, counterclockwise, or not spin at all. You should pay attention to which blades will have a stronger force (in comparison to the blade on the other side).
            </p>
          </li>
          <li>
            <p>Would a small spinner placed at <m>(-2,1)</m> spin clockwise, counterclockwise, or not spin at all? Draw a representation of a spinner if necessary to demonstrate your ideas.</p>
          </li>
          <li>
            <p>Are there any points on the <m>xy</m>-plane where the spinner would not turn counterclockwise?</p>
          </li>
        </ol>
      </statement>
    </task>
    <task xml:id="Curl_PA_task2">
      <statement>
      <p> For this part, look at the vector field in <xref ref="Curl_PA_task2_vf">Figure</xref>.</p>
      <figure xml:id="Curl_PA_task2_vf">
        <image width="55%" source="images/Curl_xy_field"/>
      </figure>
      <ol>
        <li>
          <p>Would a small spinner placed at the origin spin clockwise, counterclockwise, or not spin at all?</p>
        </li>
        <li>
          <p>Would a small spinner placed at <m>(1,1)</m> spin clockwise, counterclockwise, or not spin at all?</p>
        </li>
        <li>
          <p>Would a small spinner placed at <m>(-2,1)</m> spin clockwise, counterclockwise, or not spin at all?</p>
        </li>
        <li>
          <p>Are there any points on the <m>xy</m>-plane where the spinner would turn differently than your descriptions in the previous part of this problem?</p>
        </li>
      </ol>
    </statement>
    </task>
    <task xml:id="Curl_PA_task3">
      <statement>
      <p> For this part, look at the vector field in <xref ref="Curl_PA_task3_vf">Figure</xref>.</p>
      <figure xml:id="Curl_PA_task3_vf">
        <image width="55%" source="images/Curl_12_field"/>
      </figure>
      <ol>
        <li>
          <p>Would a small spinner placed at the origin spin clockwise, counterclockwise, or not spin at all?</p>
        </li>
        <li>
          <p>Would a small spinner placed at <m>(1,1)</m> spin clockwise, counterclockwise, or not spin at all?</p>
        </li>
        <li>
          <p>Would a small spinner placed at <m>(-2,1)</m> spin clockwise, counterclockwise, or not spin at all?</p>
        </li>
         <li>
          <p>Are there any points on the <m>xy</m>-plane where the spinner would turn differently than your descriptions in the previous part of this problem?</p>
        </li>
      </ol>
      </statement>
    </task>
    <task xml:id="Curl_PA_task4">
      <statement>
        <p> For this part, look at the vector field in <xref ref="Curl_PA_task4_vf">Figure</xref>. You may find it useful to recenter the plot on your point by changing <m>x_0</m> and <m>y_0</m>. You may also zoom in on your point by using the slider labeled zoom. </p>
          <!-- <figure xml:id="Curl_PA_task4_vf">
            <image source="images/Curl_1xxy_field"/>
          </figure> -->
        <figure xml:id="Curl_PA_task4_vf">
          <caption>A Sage Interact to examine vector fields</caption>
          <interactive xml:id="sage_curl_interact" platform="sage" width="100%" aspect="1:1.6">
            <slate surface="sage">
              var('x,y,t')
              @interact
              def curl_explorer(f=input_box(default=1-x,label="First Component Equation $F_1=$",width=40),g=input_box(default=x*y,label="Second Component Equation $F_2=$",width=40),zoom=slider(-1,3,1,0),x0=input_box(default=1,label="$x_0$"),y0=input_box(default=1,label="$y_0$")):
                  d=2
                  zoom_level=(1/2)^zoom
                  plot1=plot_vector_field((f,g),(x,x0-(d*zoom_level),x0+(d*zoom_level)),(y,y0-(d*zoom_level),y0+(d*zoom_level)),frame=False,axes_labels=["x","y"],aspect_ratio=1)
                  plot1+=point([(x0,y0)],color='red',size=20)+text("$(x_0,y_0)$",(x0+0.1,y0+(0.1)),color='red',fontsize='large',clip=True)
                  show(plot1)
            </slate>
          </interactive>
        </figure>
        <ol>
          <li>
            <p>Would a small spinner placed at the origin spin clockwise, counterclockwise, or not spin at all?</p>
          </li>
          <li>
            <p>Would a small spinner placed at <m>(0,2)</m> spin clockwise, counterclockwise, or not spin at all?</p>
          </li>
          <li>
            <p>Would a small spinner placed at <m>(-2,1)</m> spin clockwise, counterclockwise, or not spin at all?</p>
          </li>
          <li>
            <p>Give a point (different than the ones used in 1.-3.) in the <m>xy</m>-plane where a spinner would 
              <ul>
                <li>turn clockwise.</li>
                <li>turn counterclockwise.</li>
                <li>not turn at all.</li>
              </ul>
            </p>
          </li>
        </ol>
      </statement>
    </task>
  </exploration>
</introduction>
<subsection xml:id="Curl_development">
  <title>Measuring the Circulation Density of a 2D Vector Field</title>
  <p>
    In this subsection, we will develop the measurement of the circulation density for a two dimensional vector field. We will use this 2D measurement to generalize to a notion of rotational strength in higher dimensional cases.
  </p>
  <p>
    We will start by measuring the circulation of a vector field on a path around the point <m>(a,b)</m> and use this measurement to define circulation density. Specifically, we will measure the circulation of a vector field as we move around a square centered on <m>(a,b)</m>. Using this meausurement, we will look at the circulation density by dividing our measurement by the area enclosed, thus allowing us to compare our measurement across different sized regions. By taking the limit as our square's side length goes to zero, we will have the circulation density at the point <m>(a,b)</m>. Just as in our discussion of <xref ref="Div_development">Subsection</xref>, we will look at a two dimensional setting first, then examine how our argument can be generalized to higher dimensions.
  </p>
  <p>
    Let's start by measuring the circulation around a square with side length <m>2h</m> centered at a point <m>(a,b)</m>. Namely, we will look at the line integral of our vector field as we move along the square curve shown in <xref ref="Curl_dev_square">Figure</xref>.
  </p>
  <figure xml:id="Curl_dev_square">
    <caption>A square centered at the point <m>(a,b)</m> with side lengths <m>2h</m> traveled counterclockwise</caption>
    <image width ="55%" source="images/Square_with_arrows"/>
  </figure>
  <p>
    We can parameterize the top edge of the box (in blue) using the following parameterization
      <me> \vr_{top}(t) = \langle a-t,b+h\rangle </me>
      where <m>-h\geq t\geq h</m>. Similarly, the bottom, right, and left can be parameterized by
      <me>
        \vr_{bottom}(t) = \langle a+t,b-h\rangle \\
        \vr_{right}(t) = \langle a+h,b+t\rangle \\
        \vr_{left}(t) = \langle a-h,b-t\rangle
      </me>
  </p>
  <p>
    In order to measure the circulation, we want to know how much of the vector field is parallel to the direction of travel, so along each of the sides of the box, we only need to look at one of the components of the vector field. The only contribution to the circulation on the top and bottom comes from the horizontal component (<m>F_1</m>) and the vertical component (<m>F_2</m>) is all that contributes on the right and left sides. This means that we can simplify our line integrals considerably once we apply <xref ref="LineInt_Param_Thm">Theorem</xref>. For instance, the circulation on the top can be written as
    <me>
      \int_{top} \vF \cdot d\vr=\int_{-h}^h \langle F_1,F_2\rangle \cdot \langle -1,0\rangle \enspace dt = \int_{-h}^h -F_1( a-t,b+h) \enspace dt
    </me>
    Similarly we can simplify the appropriate line integrals on the other sides (ordered below as top, left, bottom, right) to get the total circulation around the square to be
    <me> 
      \verb"Total Circulation" = \int_{\verb"Square"} \vF \cdot d\vr  \\
      = \int_{-h}^h -F_1(a-t,b+h) \enspace dt +  \int_{-h}^h -F_2(a-h,b-t) \enspace dt \\ 
      \quad \quad + \int_{-h}^h F_1(a+t,b-h) \enspace dt + \int_{-h}^h F_2(a+h,b+t) \enspace dt
    </me>
    Note that the sign on the top and the left sides ends up being switched because the direction of travel on these sides is in the negative coordinate direction. It is important to note that by convention, we talk about <q>positive</q> rotation being counterclockwise and <q>negative</q> rotation being clockwise when looking at these planar graphs. This will be discussed more fully in <xref ref="Curl_development_3d">Section</xref>.
  </p>
  <p>
    We will take a moment here to apply the Mean Value Theorem to the four integrals given above in order to simplify our calculations in the next part. Specifically, we apply the Mean Value Theorem to the first integral to get a value <m>t_{top}^* \in (a-h,a+h)</m> such that
    <me>
      \int_{-h}^h -F_1( a-t,b+h) \enspace dt=  -2h \left(F_1(t_{top}^*,b+h)\right)
    </me>
    Applying the same arguments to the other three integrals in our Total Circulation calculation gives the following:
    <me> 
      \verb"Total Circulation" = \int_{\verb"Square"} \vF \cdot d\vr \\
      = \int_{-h}^h -F_1(a-t,b+h) \enspace dt +  \int_{-h}^h -F_2(a-h,b-t) \enspace dt \\
      \quad \quad + \int_{-h}^h F_1(a+t,b-h) \enspace dt + \int_{-h}^h F_2(a+h,b+t) \enspace dt \\
      = -2h F_1(a_{top}^*,b+h) -2h F_2(a-h,b_{left}^*) \\
      \quad \quad + 2h F_1(a_{bottom}^*,b-h)+2h F_2(a+h,b_{right}^*) \\
    </me>
    where <m>a_{top}^*,a_{bottom}^* \in (a-h,a+h)</m> and <m>b_{left}^*,b_{right}^* \in (b-h,b+h)</m>. We can regroup these terms to get the following expression for the total circulation around our square.
    <me>

      \verb"Total Circulation" =\\
      \quad \quad 2h\left(F_2(a+h,b_{right}^*)-F_2(a-h,b_{left}^*)\right)\\
      \quad \quad -2h\left(F_1(a_{top}^*,b+h)-F_1(a_{bottom}^*,b-h)\right)
    </me>
  </p>
  <p>
    If we have a larger square, then it is more likely to have a larger total circulation since there is more distance to accumulate how much the vector field is moving in the same direction as our path. In order to compare our rotational or circulation ideas over different sizes of squares, we will now look at the circulation density (strength of rotation per unit area), which can be computed directly from our total circulation measurement. We can take the limit of the circulation density as we shrink the square to the central point <m>(a,b)</m> and get a measurement rotational strength of our vector field at a point.
  </p>
  <p>
    We will compute our circulation density by the following
    <me>
      \verb"Circulation Density"=\lim_{h\rightarrow 0} \frac{\verb"Total Circulation"}{\verb"Area of Square"} = \lim_{h\rightarrow 0} \frac{\int_{\verb"Square"} \vF \cdot d\vr}{4h^2}\\
      =\lim_{h\rightarrow 0} \frac{F_2(a+h,b_{right}^*)-F_2(a-h,b_{left}^*)}{2h} - \frac{F_1(a_{top}^*,b+h)-F_1(a_{bottom}^*,b-h)}{2h}
    </me>
    Recall the central difference method of evaluating derivatives from page 48 (1.5.2) and notice that as <m>h</m> goes to zero, then <m>a_{top}^*,a_{bottom}^*</m> must go to <m>a</m> and <m>b_{left}^*,b_{right}^*</m> must go to <m>b</m>. Therefore, our circulation density measurement at a point ends up being
    <me> 
      \verb"Circulation Density at the point "(a,b)= \frac{\partial F_2}{\partial x} (a,b)-\frac{\partial F_1}{\partial y} (a,b)
    </me>
  </p>
  <p>
    Notice that this argument had a similar flow to the development of divergence in <xref ref="S_12_5_Div">Section</xref>, but the result ended up quite different because the property of the vector field we were trying to measure was different. Because divergence was developed to measure the change in the strength of the vector field (without regard to the direction), divergence is computed using the partial derivatives of the horizontal component of the vector field with respect to the horizontal variable and the vertical component of the vector field with respect to the vertical variable. The circulation density we just developed measures how the direction of the vector field is changing, and thus uses partial derivatives of the components with respect to the transverse variable. In other words, the rotational aspects of the vector field depends on how the horizontal component of the vector field changes when we move vertically (and vice versa).
  </p>
  <p>
    We could have used other shapes in the development of the circulation density (other than a square), but the square allowed for a more easily understood set of calculations as the area of our shape was shrunk. Our use of rectangular coordinates made it easiest to use rectangular figures but more general arguements exist.
  </p>
  <activity xml:id="curl_2d_activity">
      <title>Matching Visual Measurements to Algebraic</title>
      <introduction>
        <p>
          Remember that the circulation density of a vector field <m>/vF=\langle F_1,F_2\rangle</m> at a point <m>(a,b)</m> is calculated as 
          <me> 
            \verb"Circulation Density at the point "(a,b)= \frac{\partial F_2}{\partial x} (a,b)-\frac{\partial F_1}{\partial y} (a,b)
          </me>
          The circulation density will be positive when a small spinner placed at <m>(a,b)</m> will spin counterclockwise, negative when the spinner will move clockwise, and zero when the spinner does not rotate.
        </p>
      </introduction>
      <task xml:id="curl_2d_task1">
          <p>
            <ol>
              <li>Compute the circulation density of <m>\langle -y,x\rangle</m></li>
              <li>For what points will you have a positive circulation density?</li>
              <li>For what points will you have a negative circulation density?</li>
              <li>For what points will you have a zero circulation density?</li>
              <li>Compare your answers in this part to the plot and answers from <xref ref="Curl_PA_task1">Activity</xref>.</li>
            </ol>
          </p>
      </task>
      <task xml:id="curl_2d_task2">
          <p>
            <ol>
              <li>Compute the circulation density of <m>\langle x,y\rangle</m></li>
              <li>For what points will you have a positive circulation density?</li>
              <li>For what points will you have a negative circulation density?</li>
              <li>For what points will you have a zero circulation density?</li>
              <li>Compare your answers in this part to the plot and answers from <xref ref="Curl_PA_task2">Activity</xref>.</li>
            </ol>
          </p>
      </task>
      <task xml:id="curl_2d_task3">
          <p>
            <ol>
              <li>Compute the circulation density of <m>\langle 1-x,xy\rangle</m></li>
              <li>For what points will you have a positive circulation density?</li>
              <li>For what points will you have a negative circulation density?</li>
              <li>For what points will you have a zero circulation density?</li>
              <li>Compare your answers in this part to the plot and answers from <xref ref="Curl_PA_task4">Activity</xref>.</li>
            </ol>
          </p>
      </task>
  </activity>
</subsection>
<subsection xml:id="Curl_development_3d">
  <title>Measuring Rotation in 3D using Vectors</title>
  <p>
    The previous subsection showed how we can measure the circulation density, or strength of rotation, at a point for a two dimensional vector field. In this subsection, we will look at how this two dimensional measurement can be used to define circulation density for three dimensional vector fields.
  </p>
  <figure xml:id="rot_in_3d">
    <caption>Rotation as a vector on the <m>xy</m>-plane</caption>
    <interactive xml:id="vec_rotation" platform="sage" width="100%" aspect="1:1">
    <slate surface="sage">
      var('t,s')
      a=4
      b=5
      @interact
      def _():
        plot1=sphere((1,2,0),size=.15,color="black",frame=False,aspect_ratio=1,ticks=[[],[]])+parametric_plot3d((t,s,0),(t,-a,a),(s,-a,a),color="red",opacity=.2)
        plot1+=arrow3d((1,2,0),(1,2,2),color="blue",width=3)+parametric_plot3d((t,0,0),(t,-b,b),color="black")
        plot1+=parametric_plot3d((0,t,0),(t,-b,b),color="black")+parametric_plot3d((0,0,t),(t,-b,b),color="black")
        plot1+=text3d("x",(5.5,0,0))+text3d("y",(0,5.5,0))+text3d("z",(0,0,5.5))+text3d("(a,b,c)",(1,3,0.25))
        plot1+=parametric_plot3d((1+cos(t),2+sin(t),1),(t,0,5.5),color="blue",thickness=3)
        plot1+=arrow3d((1+cos(5.5),2+sin(5.5),1),(1+cos(5.75),2+sin(5.75),1),width=5,color="blue")
        show(plot1)
    </slate>
    </interactive>
  </figure>
  <p>
    Let's think a bit about how we want to represent and measure rotation in three dimensions. When we did our development of the circulation density on the <m>xy</m>-plane, we measured the rotational strength at a point <m>(a,b)</m> with an axis of rotation coming out of the <m>xy</m>-plane. This coresponds to the axis of rotation being given by the blue vector in <xref ref="rot_in_3d">Figure</xref>. Remember that "positive" rotation corresponds to counterclockwise rotation in the <m>xy</m>-plane. We can generalize this idea to think of rotation in three dimensions as being represented by a vector where
    <ul>
      <li>the direction of the vector represents the axis of rotation</li>
      <li>the magnitude of the vector represents the strength of the rotation</li>
    </ul>
    By convention, we consider positive <q>rotation</q> to correspond to counterclockwise rotation when the vector field is viewed looking from the end of the vector to the base. Alternatively, if we look along the vector from the base point to the final point, positive rotation corresponds to clockwise rotation. In <xref ref="rotations_in_3d">Figure</xref> you can see that each vector corresponds to the rotation displayed and is consistent with the conventions described above.
  </p>
  <figure xml:id="rotations_in_3d">
    <caption>Rotation as a vector on each coordinate plane</caption>
    <interactive xml:id="vec_rotations" platform="sage" width="100%" aspect="1:1">
    <slate surface="sage">
      var('t,s')
      a=4
      b=5
      @interact
      def _():
        plot1=sphere((1,2,0),size=.15,color="black",frame=False,aspect_ratio=1,ticks=[[],[]])+parametric_plot3d((t,s,0),(t,-a,a),(s,-a,a),color="red",opacity=.2)
        plot1+=sphere((-2,0,1),size=.15,color="black",frame=False,aspect_ratio=1,ticks=[[],[]])+parametric_plot3d((t,0,s),(t,-a,a),(s,-a,a),color="green",opacity=.2)
        plot1+=sphere((0,-2,2),size=.15,color="black",frame=False,aspect_ratio=1,ticks=[[],[]])+parametric_plot3d((0,t,s),(t,-a,a),(s,-a,a),color="yellow",opacity=.2)
        plot1+=arrow3d((1,2,0),(1,2,2),color="blue",width=3)
        plot1+=arrow3d((-2,0,1),(-2,2,1),color="purple",width=3)
        plot1+=arrow3d((0,-2,2),(2,-2,2),color="orange",width=3)
        plot1+=parametric_plot3d((0,t,0),(t,-b,b),color="black")+parametric_plot3d((0,0,t),(t,-b,b),color="black")+parametric_plot3d((t,0,0),(t,-b,b),color="black")
        plot1+=text3d("x",(5.5,0,0))+text3d("y",(0,5.5,0))+text3d("z",(0,0,5.5))
        plot1+=parametric_plot3d((1+cos(t),2+sin(t),1),(t,0,5.5),color="blue",size=50)+arrow3d((1+cos(5.5),2+sin(5.5),1),(1+cos(5.75),2+sin(5.75),1),width=10,color="blue")
        plot1+=parametric_plot3d((-2+cos(-t),2,1+sin(-t)),(t,0,5.5),color="purple",size=50)+arrow3d((-2+cos(-5.5),2,1+sin(-5.5)),(-2+cos(-5.75),2,1+sin(-5.75)),width=10,color="purple")
        plot1+=parametric_plot3d((2,-2+cos(t),2+sin(t)),(t,0,5.5),color="orange",size=50)+arrow3d((2,-2+cos(5.5),2+sin(5.5)),(2,-2+cos(5.75),2+sin(5.75)),width=10,color="orange")
        show(plot1)
    </slate>
    </interactive>
  </figure>
  <p>
    If you look carefully at <xref ref="rotations_in_3d">Figure</xref>, you can see that the vector show in blue will be parallel to <m>\vk</m> and will represent rotations on planes of the form <m>z=c</m>. Similarly, the vector shown in yellow will be parallel to <m>\vi</m> and will represent rotations on planes of the form <m>x=a</m>. When looking down the blue and yellow vectors (from the terminal to the initial point), you can see the coordinate axes as being to the right and up (as we would expect on a two dimensional plot). When you look down the purple vector (from the terminal to the initial point), the positive coordinate axes (the <m>x</m> and <m>z</m> axes) go to the left and up. In fact, when we look down the purple vector the <m>xz</m>plane is flipped. So a positive rotation on a plane of the form <m>y=b</m> will correspond to a rotation vector that is in the direction of <m>-\vj</m>. This is really a product of our right handed coordinate system and our right handed idea of rotation.
    <me>
      \vi \times \vj = \vk \quad \quad  \vi \times \vk = -\vj \quad \quad  \vj \times \vk = \vi 
    </me>
    The above ideas correspond to the cooresponding coordinate vector relationships of a right handed coordinate system.
  </p>
  <!-- <p>
    If we look at the same slice of the vector field from the other side in three dimensions, the notion of rotation (clockwise versus counterclockwise) switches exactly with the orientation of the direction. Consider the following to plots of a vector field on the <m>xy</m>-plane when viewed from the positive and negative <m>z</m>-axis.
  </p>
  <figure xml:id="F_12_2-idea-figs">
    <sidebyside widths="47% 47%" margins="0% 5% 0%">
      <figure>
        <caption><m>\vF</m> from above the <m>xy</m>-plane</caption>
        <image source="images/vf_from_positive"/>
      </figure>
      <figure>
        <caption><m>\vF</m> from below the <m>xy</m>-plane</caption>
        <image source="images/vf_from_negative"/>
      </figure>
    </sidebyside>
  </figure>
  <p>
    Notice that the orientation of the <m>x</m>-axes switches which what changes the sign of our rotational measurement. 
  </p> -->
  <p>
    With this idea of using a vector to represent the rotation of some element, we have enabled all of the tools that vectors allow, especially the ideas of projection and linear combinations. Remember that the projection of a vector <m>\vv</m> onto a vector <m>\vu</m> will give the vector component of <m>\vv</m> that is parallel to <m>\vu</m>. In other words, the projection of <m>\vv</m> onto <m>\vu</m> is how much of <m>\vv</m> is parallel to <m>\vu</m>. The projection formula will allow us to take a vector representation of rotation and pull out how much rotation happens around a given axis of rotation.
  </p>
  <p>
    Recall that we have used a set of coordinate vectors (namely <m>\vi</m>, <m>\vj</m>, and <m>\vk</m>) to write other vectors as a linear combination of our base vectors.
    <figure xml:id="ijk_vector_sum">
      <caption>The black vector, <m>\langle a,b,c \rangle</m>, is decomposed into parts parallel to <m>\vi</m>, <m>\vj</m>, and <m>\vk</m>.</caption>
      <interactive xml:id="ijk_sum" platform="sage" width="100%" aspect="1:1">
      <slate surface="sage">
        d=5
        shift=.5
        var('t,s')
        @interact
        def _(a=slider(-5,5,1,default=1),b=slider(-5,5,1,default=2),c=slider(-5,5,1,default=-1)):
          plot3=arrow3d((1,2,1),(1+a,2+b,1+c),width=2,color="black",frame=False,aspect_ratio=1,ticks=[[],[]])
          plot3+=parametric_plot3d((t,0,0),(t,-d,d),color="black")
          plot3+=parametric_plot3d((0,t,0),(t,-d,d),color="black")+parametric_plot3d((0,0,t),(t,-d,d),color="black")
          plot3+=text3d("x",(5.5,0,0))+text3d("y",(0,5.5,0))+text3d("z",(0,0,5.5))
          plot3+=arrow3d((1,2,1),(1+a,2,1),width=2,color="red")+arrow3d((1,2,1),(1,2+b,1),width=2,color="green")
          plot3+=arrow3d((1,2,1),(1,2,1+c),width=2,color="blue")
          plot3+=arrow3d((1,2+b,1),(1+a,2+b,1),width=2,color="red")+arrow3d((1+a,2,1),(1+a,2+b,1),width=2,color="green")
          plot3+=arrow3d((1+a,2+b,1),(1+a,2+b,1+c),width=2,color="blue")
          show(plot3)
      </slate>
      </interactive>
    </figure>
    The linear combination of vectors will allow us to build the total rotation vector by measuring the rotational strength in the direction of three coordinate direction vectors. Just as in <xref ref="ijk_vector_sum">Figure</xref>, we will build our total rotation vector as a sum of <m>\vi</m>, <m>\vj</m>, and <m>\vk</m>. A rotation vector in the direction of <m>\vk</m> at a point <m>(a,b,c)</m> will measure the circulation density at our point restricted to the trace plane <m>z=c</m>. Similarly the rotation vectors in the directions <m>\vi</m> and <m>\vj</m> will measure the circulation density on the trace planes <m>x=a</m> and <m>y=b</m>.
  </p>
</subsection>
<subsection xml:id="Curl_defn">
  <title>Measuring the Circulation Density of a 3D Vector Field</title>
  <definition>
    <statement>
    <p> The curl of a three dimensional vector field, <m>\vF=\langle F_1,F_2,F_3\rangle</m>, is given by 
      <me>
        \nabla \times \vF= Curl(\vF)= (\frac{\partial F_3}{\partial y}-\frac{\partial F_2}{\partial z})\vi- (\frac{\partial F_3}{\partial x}-\frac{\partial F_1}{\partial z})\vj + (\frac{\partial F_2}{\partial x}-\frac{\partial F_1}{\partial y})\vk
      </me>
     </p>
    </statement>
  </definition>
  <p>
    The curl is exactly the rotational description described at the end of <xref ref="Curl_development_3d"></xref>. When evaluated at a point <m>(a,b,c)</m>, the first component of the curl will measure the circulation density of the vector field restricted to the plane <m>x=a</m>. Similarly, the second and third components of the curl will measure the circulation density of the vector field restricted to the planes <m>y=b</m> and <m>z=c</m>.
  </p>
  <activity xml:id="curl_activity">
    <title>Curl in 3D</title>
    <task xml:id="curl_act_task1">
      <statement>
      <p>
        Look at the vector field plotted in <xref ref="curl_3d_vf">Figure</xref>. You can plot the vector field for different widths and densities around the point <m>(1,1,-2)</m>. Can you see any rotation in the three dimensional vector field plot at the point <m>(1,1,-2)</m>? Can you tell how a spinner placed at <m>(1,1,-2)</m> would rotate? Along which axis? Try to state your answer as a vector representing the rotational strength of the vector field at <m>(1,1,-2)</m>.
      </p>
      <figure xml:id="curl_3d_vf">
      <caption>A vector field plotted in a region around the point <m>(1,1,-2)</m></caption>
      <interactive platform="sage" width="100%" aspect="1:1.25">
      <slate surface="sage">
        var('x,y,z,t,s')
        a=1
        b=1 
        c=-1
        d=3
        @interact
        def _(zoom=slider(0,3,1,0),vectors_to_plot=slider(2,5,1,4)):
          plot1=parametric_plot3d((t,0,0),(t,-d,d),color="black")
          plot1+=parametric_plot3d((0,t,0),(t,-d,d),color="black")+parametric_plot3d((0,0,t),(t,-d,d),color="black")
          plot1+=sphere((a,b,c),size=.10,color="black",frame=False, aspect_ratio=1,ticks=[[],[]])
          plot1+=text3d("x",(d+.5,0,0))+text3d("y",(0,d+.5,0))+text3d("z",(0,0,d+.5))
          w=(1/2)^zoom
          plot1+=plot_vector_field3d((x-y,y+2*z,x^2),(x,a-w,a+w),(y,b-w,b+w),(z,c-w,c+w),plot_points=(vectors_to_plot))
          show(plot1)
      </slate>
      </interactive>
    </figure>
      </statement>
    </task>
    <task xml:id="curl_act_task2">
      <statement>
      <p>
        You probably had a great deal of difficulty deciding on how you thought a spinner might rotate in the three dimensional setting. Let's look at the vector field along the plane <m>z=-2</m>, as displayed in <xref ref="curl_3d_xy">Figure</xref>. Do you think a spinner placed on the blue point would rotate clockwise, counterclockwise, or not rotate? If the spinner will rotate, you should think about what the axis of rotation would be and whether the rotation should be positive or negative. Summarize your result as a vector representing the rotational strength of your vector field in the plane <m>z=-2</m>.
      </p>
      <figure xml:id="curl_3d_xy">
        <image width="75%" source="images/curl_3d_xy"/>
      </figure>
      </statement>
    </task>
     <task xml:id="curl_act_task3">
      <statement>
      <p>
        Now let's look at the vector field along the plane <m>y=1</m>, as displayed in <xref ref="curl_3d_xz">Figure</xref>. Do you think a spinner placed on the blue point would rotate clockwise, counterclockwise, or not rotate? If the spinner will rotate, you should think about what the axis of rotation would be and whether the rotation should be positive or negative. Summarize your result as a vector representing the rotational strength of your vector field in the plane <m>y=1</m>. Do you think the rotation in this figure is stronger or weaker than in <xref ref="curl_3d_xy">Figure</xref>?
      </p>
      <figure xml:id="curl_3d_xz">
        <image width="75%" source="images/curl_3d_xz"/>
      </figure>
      </statement>
    </task>
     <task xml:id="curl_act_task4">
      <statement>
      <p>
        Now let's look at the vector field along the plane <m>x=1</m>, as displayed in <xref ref="curl_3d_yz">Figure</xref>. Do you think a spinner placed on the blue point would rotate clockwise, counterclockwise, or not rotate? If the spinner will rotate, you should think about what the axis of rotation would be and whether the rotation should be positive or negative. Summarize your result as a vector representing the rotational strength of your vector field in the plane <m>x=1</m>.
      </p>
      <figure xml:id="curl_3d_yz">
        <image width="75%" source="images/curl_3d_yz"/>
      </figure>
      </statement>
    </task>
    <task xml:id="curl_act_task5">
      <statement>
      <p>
        Summarize your prediction to what you think the three dimensional rotational strength of the vector field will be at the point <m>(1,1,-2)</m> in the form of three dimensional vector. Hint: Add you results from the previous 3 tasks.
      </p>
      </statement>
    </task>
    <task xml:id="curl_act_task6">
      <statement>
      <p>
        Compute the curl of <m>\langle x-y,y+2z,x^2\rangle</m>.
      </p>
      </statement>
    </task>
    <task xml:id="curl_act_task7">
      <statement>
      <p>
        Compare the result of the curl calculation to the prediction from <xref ref="curl_act_task5">Question</xref>. While you may have gotten the magnitude incorrect, you should make sense of the sign of each component and the relative strength.
      </p>
      </statement>
    </task>
  </activity>
</subsection>
<subsection xml:id="curl_interpretation">
  <title>The Interpretation and Usage of Curl </title>
  <p>
    The curl of a vector field is itself a vector field in that the output of the curl at a point is a vector. As we saw earlier in this section, the vector output of <m>Curl(\vF)</m> represents the rotational strength of the vector field <m>\vF</m> as a linear combination of rotational strength (or circulation densities) from two dimensional planar descriptions. From our description of vectors as a representation of rotations, We can think of rotation in three dimensions as being represented by a vector where
    <ul>
      <li>the direction of the vector represents the axis of rotation</li>
      <li>the magnitude of the vector represents the strength of the rotation</li>
    </ul>
    By convention, we consider positive <q>rotation</q> to correspond to counterclockwise rotation when the vector field is viewed looking from the end of the vector to the base.
  </p>
  <p>
    With these conventions, the output vector of the curl evaluated at a point <m>P</m>, written as <m>Curl(\vF)(P)</m>, will have the following properties:
    <ol>
      <li>The direction of <m>Curl(\vF)(P)</m> will be the axis of rotation that has the strongest positive rotational strength.</li>
      <li>The magnitude of <m>Curl(\vF)(P)</m> will be the circulation density of the vector field in the plane with normal vector given by <m>Curl(\vF)(P)</m>. </li>
    </ol>
  </p>
  <theorem>
    <statement>
      <p>
        The rotational strength of a vector field <m>\vF</m> around an axis given by a unit vector <m>\vv</m> at a point <m>P=(a,b,c)</m> can be computed by <m> \left(Curl(\vF)(a,b,c)\right)\cdot \vv</m>.
      </p>
    </statement>
  </theorem>
  <figure xml:id="curl_3d_xyz">
    <caption>A 3D plot of the vector field <m>\langle x,y,z\rangle</m></caption>
    <interactive platform="sage" width="100%" aspect="1:2.2">
    <slate surface="sage">
      var('x,y,z,t,s')
      a=0
      b=0
      c=0
      d=3
      w=d
      F=(x,y,z)
      @interact
      def _(beta=slider(-1.5,1.5,0.25,0,label="Angle of Plane"),vectors_to_plot=slider(5,10,1,7)):
        plot1=parametric_plot3d((t,0,0),(t,-d,d),color="black")
        plot1+=parametric_plot3d((0,t,0),(t,-d,d),color="black")+parametric_plot3d((0,0,t),(t,-d,d),color="black",frame=False, aspect_ratio=1,ticks=[[],[]])
        plot1+=text3d("x",(d+.5,0,0))+text3d("y",(0,d+.5,0))+text3d("z",(0,0,d+.5))
        alpha=tan(beta)
        plot1+=plot_vector_field3d(F,(x,a-w,a+w),(y,b-w,b+w),(z,c-w,c+w),plot_points=(vectors_to_plot))
        plot1+=plot3d(alpha*y,(x,-d,d),(y,-d,d),opacity=.4,color="yellow")
        show(plot1)
        plot2=plot_vector_field((x,y),(x,-d,d),(y,-d,d),frame=False,aspect_ratio=1,ticks=[[],[]])
        show(plot2)
    </slate>
    </interactive>
  </figure>
  <p>
    If we look at the vector field <m>\vF=\langle x,y,z\rangle</m> and examine how the vector field will look along any plane through the origin, we will see a vector field in <xref ref="curl_xy">Figure</xref>. The 2D vector field in <xref ref="curl_xy">Figure</xref> has no rotation, so for the projection of the curl onto any direction must give the zero vector. The only vector that has a zero projection in every direction is the zero vector. You can verify by direct calculation as well that <m>Curl(\langle{x,y,z}\rangle)</m> is the zero vector.
    <figure xml:id="curl_xy">
      <caption>The vector field <m>\langle{x,y,z}\rangle</m> on every plane through the origin</caption>
      <image width="75%" source="images/curl_xy_noticks"/>
    </figure>
  </p>
  <p>
    If we look at the vector field <m>\vF=\langle{y,x,0}\rangle</m> and examine how the vector field will look along any plane through the origin, we will see the vector field in <xref ref="curl_yx">Figure</xref>. The 2D vector field in <xref ref="curl_yx">Figure</xref> has a positive circulation density similar to our work in <xref ref="Curl_PA_task1">Question</xref>. In this example the curl of our vector field will be <m>2/vk</m> and so the rotational strength of the vector field on the titled plane will be given by <m>2\cos(\theta)</m>, where <m>\theta</m> is the angle between <m>/vk</m> and the normal vector of our tilted plane.
    <figure xml:id="curl_yx">
      <caption>A 3D plot of the vector field <m>\langle x,y,z\rangle</m></caption>
      <interactive platform="sage" width="100%" aspect="1:1.25">
      <slate surface="sage">
        var('x,y,z,t,s')
        a=0
        b=0
        c=0
        d=3
        w=d
        F=(y,-x,0)
        @interact
        def _(beta=slider(-1.5,1.5,0.25,0,label="Angle of Plane"),vectors_to_plot=slider(5,10,1,7)):
          plot1=parametric_plot3d((t,0,0),(t,-d,d),color="black")
          plot1+=parametric_plot3d((0,t,0),(t,-d,d),color="black")+parametric_plot3d((0,0,t),(t,-d,d),color="black",frame=False, aspect_ratio=1,ticks=[[],[]])
          plot1+=text3d("x",(d+.5,0,0))+text3d("y",(0,d+.5,0))+text3d("z",(0,0,d+.5))
          alpha=tan(beta)
          plot1+=plot_vector_field3d(F,(x,a-w,a+w),(y,b-w,b+w),(z,c-w,c+w),plot_points=(vectors_to_plot))
          plot1+=plot3d(alpha*y,(x,-d,d),(y,-d,d),opacity=.4,color="yellow")
          plot1+=arrow3d((1,1,alpha),(1,-alpha+1,1+alpha))
          show(plot1)
          plot2=plot_vector_field(((t),-s*(1/(1+alpha^2))),(s,-d,d),(t,-d,d),frame=False,aspect_ratio=1,ticks=[[],[]])
          show(plot2)
      </slate>
      </interactive>
    </figure>
  </p>
  <p>
    In <xref ref="curl_gen">Figure</xref> you can plot a vector field around a given point in order to look at the rotational properties of the vector field. The selectbox in <xref ref="curl_gen">Figure</xref> will show the output of the curl at the base point given so you can make sense of your vector field and its curl.
  </p>
  <figure xml:id="curl_gen">
    <caption>A 3D plot of the vector field <m>\langle{F1,F2,F3}\rangle</m></caption>
    <interactive platform="sage" width="100%" aspect="1:1.25">
    <slate surface="sage">
      var('x,y,z,t,s')
      d=3
      w=2
      plot1=parametric_plot3d((t,0,0),(t,-d,d),color="black")
      plot1+=parametric_plot3d((0,t,0),(t,-d,d),color="black")+parametric_plot3d((0,0,t),(t,-d,d),color="black",frame=False, aspect_ratio=1,ticks=[[],[]])
      plot1+=text3d("x",(d+.5,0,0))+text3d("y",(0,d+.5,0))+text3d("z",(0,0,d+.5))
      @interact
      def _(F1=input_box(default=x-z),F2=input_box(default=z+x^2),F3=input_box(default=x+sin(y)),p=("Point", input_grid(1, 3, default=[1,2,-1])),vectors_to_plot=slider(3,7,1,5),ct=checkbox(default=False,label="Show Curl Vector")):
          a=p[0][0]
          b=p[0][1]
          c=p[0][2]
          cd1=(diff(F3,y)-diff(F2,z))(x=a,y=b,z=c)
          cd2=(diff(F1,z)-diff(F3,x))(x=a,y=b,z=c)
          cd3=(diff(F2,x)-diff(F1,y))(x=a,y=b,z=c)
          plot2=plot_vector_field3d((F1,F2,F3),(x,a-w,a+w),(y,b-w,b+w),(z,c-w,c+w),plot_points=(vectors_to_plot))
          plot2+=sphere((a,b,c),size=.15,color="black")
          plot3=arrow3d((a,b,c),(a+cd1,b+cd2,c+cd3))
          if(ct):
              plot2+=plot3
          show(plot1+plot2)
      </slate>
      </interactive>
    </figure>
  <p>
    Talk about vector potential functions?
  </p>
  <p>
    Exercises will include several purely calculation based questions
  </p>
  <p>
    Should we have a subsection at the end of each section that shows how to do the relevent graphs and computations in Sage or Calcplot3d?
  </p>
</subsection>
<subsection>
  <title>Summary</title>
  <p>
    <ul>
      <li>
        <p>
          The circulation of a vector field on a closed path measures how strong the vector field moves in the direction of travel for the path. The circulation density of a 2D vector field (<m>\vF=\langle{F_1,F_3}\rangle</m>) is given by 
          <me>
            \verb"Circulation Density at the point "(a,b)= \frac{\partial F_2}{\partial x} (a,b)-\frac{\partial F_1}{\partial y} (a,b)
          </me>
          The circulation density can be visualized in terms of how fast a very small spinner will rotate as a result of the force of the vector field.
        </p>
      </li>

      <li>
        <p>
          Vectors as a measure of rotation summary 
        </p>
      </li>

      <li>
        <p>
          curl as a 3d vector measuring the axis of maximum circulation density. 
        </p>
      </li>

    </ul>
  </p>
</subsection>
<exercises>
    <exercise>
        <statement>
          <p>
            Let <m>h(x,y,z)</m> be a smooth function of three variables and let <m>\vF=grad(h)=\nabla{h}</m>.
            <ol>
              <li>Write out the component functions of <m>\vF</m> in terms of partial derivatives of <m>h</m>.</li>
              <li>Show that <m>curl(\vF)=\vec{0}</m>.</li>
              <li>A vector feild is curl free if <m>curl(\vF)=\vec{0}</m>. If the component functions of a vector field <m>\vG</m> have continous first partial derivatives on an open region of space, then <m>curl(\vG)=\vec{0}</m> iff <m>\vG</m> is conservative. Need to fill out how this should work as an exercise.</li>
            </ol>
          </p>
        </statement>
        <hint><p>A hint! Don't feel obligated to use hints, but they are an option.</p></hint>
        <answer>
            <p>
                The answer. Keep this simple as will be made public <q>back of the book</q>-style. 
                <alert>Do not put anything with a number/or <attr>xml:id</attr> on it in an <tag>answer</tag> or <tag>solution</tag>, because this will mess up the numbering of subsequent things in the book. Techincally <attr>xml:id</attr> is fine, but note that the reference might not be useful in the end. Definitely don't use <tag>figure</tag> or <tag>table</tag> in one of these things; wrap <tag>tabular</tag> and <tag>image</tag> in <tag>sidebyside</tag>.</alert>
            </p>
        </answer>
        <solution>
            <p>
                The full solution. Full details go here.
            </p>
        </solution>
    </exercise>
    <exercise>
        <statement>
            <p>
              Compute the curl of the following four vector fields:
              <ol>
                <li> </li>
                <li> </li>
                <li> </li>
                <li> </li>
              </ol>
              Use a computer program to plot each of the preceding vector fields in the first octant and explain how the graphs relate to your calculations for the curl.
            </p>
        </statement>
        <hint><p>A hint! Don't feel obligated to use hints, but they are an option.</p></hint>
        <answer>
            <p>
                The answer. Keep this simple as will be made public <q>back of the book</q>-style. <alert>Do not put anything with a number/or <attr>xml:id</attr> on it in an <tag>answer</tag> or <tag>solution</tag>, because this will mess up the numbering of subsequent things in the book. Techincally <attr>xml:id</attr> is fine, but note that the reference might not be useful in the end. Definitely don't use <tag>figure</tag> or <tag>table</tag> in one of these things; wrap <tag>tabular</tag> and <tag>image</tag> in <tag>sidebyside</tag>.</alert>
            </p>
        </answer>
        <solution>
            <p>
                The full solution. Full details go here.
            </p>
        </solution>
    </exercise>
    <exercise>
        <statement>
            <p>
              Give plots of a vector field on the planes <m>x=a</m>, <m>y=b</m>, and <m>z=c</m>.
              <ol>
                <li>Is the first component of <m>curl(\vF)</m> positive, negative, or zero at the point <m>(a,b,c)</m>? Explain your reasoning.</li>
                <li>Is the second component of <m>curl(\vF)</m> positive, negative, or zero at the point <m>(a,b,c)</m>? Explain your reasoning.</li>
                <li>Is the third component of <m>curl(\vF)</m> positive, negative, or zero at the point <m>(a,b,c)</m>? Explain your reasoning.</li>
                <li>Compute <m>curl(\vF)</m> if <m>\vF=\langle{ , , }\rangle</m>.</li>
                <li>Does your calculation of <m>curl(\vF)</m> match your results from the first three parts for the point <m>(1,2,3)</m>?</li>
              </ol>

            </p>
        </statement>
        <hint><p>A hint! Don't feel obligated to use hints, but they are an option.</p></hint>
        <answer>
            <p>
                The answer. Keep this simple as will be made public <q>back of the book</q>-style. <alert>Do not put anything with a number/or <attr>xml:id</attr> on it in an <tag>answer</tag> or <tag>solution</tag>, because this will mess up the numbering of subsequent things in the book. Techincally <attr>xml:id</attr> is fine, but note that the reference might not be useful in the end. Definitely don't use <tag>figure</tag> or <tag>table</tag> in one of these things; wrap <tag>tabular</tag> and <tag>image</tag> in <tag>sidebyside</tag>.</alert>
            </p>
        </answer>
        <solution>
            <p>
                The full solution. Full details go here.
            </p>
        </solution>
    </exercise>
    <exercise>
        <statement>
            <p>Here is the statement.</p>
        </statement>
        <hint><p>A hint! Don't feel obligated to use hints, but they are an option.</p></hint>
        <answer>
            <p>
                The answer. Keep this simple as will be made public <q>back of the book</q>-style. <alert>Do not put anything with a number/or <attr>xml:id</attr> on it in an <tag>answer</tag> or <tag>solution</tag>, because this will mess up the numbering of subsequent things in the book. Techincally <attr>xml:id</attr> is fine, but note that the reference might not be useful in the end. Definitely don't use <tag>figure</tag> or <tag>table</tag> in one of these things; wrap <tag>tabular</tag> and <tag>image</tag> in <tag>sidebyside</tag>.</alert>
            </p>
        </answer>
        <solution>
            <p>
                The full solution. Full details go here.
            </p>
        </solution>
    </exercise>
</exercises>
<!-- <subsection xml:id="Other_stuff_I_tried">
  <title>Other stuff I have from earlier edits of Curl section</title>
  <figure xml:id="trace_planes_3d">
    <caption>Trace planes at a point</caption>
    <interactive xml:id="trace_planes" platform="sage" width="100%" aspect="1:1">
    <slate surface="sage">
      var('t,s')
      a=3
      b=5
      @interact
      def _():
        plot1=sphere((1,2,1),size=.2,color="black",frame=False,aspect_ratio=1,ticks=[[],[]])+parametric_plot3d((1+t,2+s,1),(t,-a,a),(s,-a,a),color="red",opacity=.2)
        plot1+=arrow3d((1,2,1),(1,2,2),color="blue",width=2)+parametric_plot3d((t,0,0),(t,-b,b),color="black")
        plot1+=parametric_plot3d((0,t,0),(t,-b,b),color="black")+parametric_plot3d((0,0,t),(t,-b,b),color="black")
        plot1+=text3d("x",(5.5,0,0))+text3d("y",(0,5.5,0))+text3d("z",(0,0,5.5))+text3d("(a,b,c)",(1,3,1.25))
        show(plot1)
    </slate>
    </interactive>
  </figure>
  <p>
    Let's look at how we can measure the circulation density at a point <m>(a,b,c)</m>. We can apply our 2D circulation density to the 3D vector field restricted to the plane <m> z=c</m>. This corresponds to examining the vector field on the red plane shown in <xref ref="trace_planes_3d">Figure</xref>. This means that our red slice with have axes of <m>x</m> and <m>y</m> and axes of rotation for the restricted vector field will be parallel to the <m>z</m>-axis. This is displayed with the blue vector in <xref ref="trace_planes_3d">Figure</xref>. 
    <figure xml:id="trace_planes_3d_xy">
      <caption>Trace planes at a point</caption>
      <interactive xml:id="trace_planes_xy" platform="sage" width="100%" aspect="1:1">
      <slate surface="sage">
        var('t,s')
        a=3
        b=5
        @interact
        def _():
          plot2=sphere((1,2,1),size=.2,color="black",frame=False,aspect_ratio=1,ticks=[[],[]])+parametric_plot3d((1,2+s,1+t),(t,-a,a),(s,-a,a),color="green",opacity=.2)
          plot2+=arrow3d((1,2,1),(2,2,1),color="pink",width=2)+parametric_plot3d((t,0,0),(t,-b,b),color="black")+parametric_plot3d((0,t,0),(t,-b,b),color="black")+parametric_plot3d((0,0,t),(t,-b,b),color="black")
          plot2+=text3d("x",(5.5,0,0))+text3d("y",(0,5.5,0))+text3d("z",(0,0,5.5))+text3d("(a,b,c)",(1.5,1.5,1.5))
          plot2+=parametric_plot3d((1+s,2,1+t),(t,-a,a),(s,-a,a),color="orange",opacity=.2)+arrow3d((1,2,1),(1,3,1),color="purple",width=2)
          show(plot2)
      </slate>
      </interactive>
    </figure>
    Similarly, we can look at the 2D rotational strength for the vector field on either the <m>x</m> or <m>y</m> traces as shown in <xref ref="trace_planes_3d_xy">Figure</xref>. We will measure the rotational strength at a point <m>(a,b,c)</m> using a vector where the length of the vector is a measure of the rotational strength and the direction of the vector gives the axis of rotation. In this way, we can express the rotational strength of a vector field in three dimensions as being the vector sums of the 2D circulation densities on the trace planes. 

    as the linear combination of the rotational strengths using vectors
      Now we make an argument about how to do the same thing on a 3D vf. If we look at rotation at a point (a,b,c), then we can really think of this as the linear combinations of rotations as measured on the planes z=c, y=b, and x=a. Thus we can apply the same argument above to each of the appropriate planes and get the curl as we know it. We will need to take an aside with each plane and talk about how the presentation of each plane relates to whether i, j, or k is going into or out of the page. xy-plane and yz-plane are coming out of the plane where as xz-plane presentation has j going into the page (this is the reason for the alternating sign in some presentaions of the curl formula.
  </p>
  <figure xml:id="trace_planes_3d_all">
    <caption>Trace planes at a point</caption>
    <interactive xml:id="trace_planes_all" platform="sage" width="100%" aspect="1:1">
    <slate surface="sage">
      var('t,s')
      a=3
      b=5
      @interact
      def _():
        plot2=sphere((1,2,1),size=.2,color="black",frame=False,aspect_ratio=1,ticks=[[],[]])+parametric_plot3d((1,2+s,1+t),(t,-a,a),(s,-a,a),color="green",opacity=.2)
        plot2+=arrow3d((1,2,1),(2,2,1),color="pink",width=2)+parametric_plot3d((t,0,0),(t,-b,b),color="black")
        plot2+=parametric_plot3d((0,t,0),(t,-b,b),color="black")+parametric_plot3d((0,0,t),(t,-b,b),color="black")
        plot2+=text3d("x",(5.5,0,0))+text3d("y",(0,5.5,0))+text3d("z",(0,0,5.5))+text3d("(a,b,c)",(1.5,1.5,1.5))
        plot2+=parametric_plot3d((1+s,2,1+t),(t,-a,a),(s,-a,a),color="orange",opacity=.2)+arrow3d((1,2,1),(1,3,1),color="purple",width=2)
        plot2+=parametric_plot3d((1+t,2+s,1),(t,-a,a),(s,-a,a),color="red",opacity=.2)+arrow3d((1,2,1),(1,2,2),color="blue",width=2)
        show(plot2)
    </slate>
    </interactive>
  </figure>
</subsection>
 -->
</section>

